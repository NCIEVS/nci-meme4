<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head>
   
  <meta http-equiv="Content-Type" content="text/html; charset=utf8"><title>MEME - Training - UMLS Data Structures - Atom</title></head><body style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);" link="#3333ff" vlink="#999999" alink="#ff0000">

<center><h2>UMLS Data Structure: Atom<br>
</h2></center>

<hr width="100%">
<div style="text-align: center;">&nbsp;<br>
[ <a href="#overview">overview</a> | <a href="#details">details</a> | <a href="#references">references</a> ]<br>
<br>
<img src="/images/object.gif" title="" alt="Object Icon"><br>

</div>


<h3><a name="overview"></a>Overview/Objective</h3>

This document
describes the role of Atom objects at each stage of the
Metathesaurus life-cycle and across the spectrum of code,
documentation, quality assurance, and data representation.<br>


  
<h3><a name="details"></a>Details</h3>


We will analyze the role of Atoms using the table below.&nbsp; A
populated cell means that Atom object have some role to play at
that intersection of life-cycle and category.&nbsp; <span style="font-weight: bold; color: rgb(204, 204, 204);">Gray</span> means that the use of atoms is fully leveraged; <span style="font-weight: bold; color: rgb(153, 153, 255);">Blue</span> means we have a functional coverage of the topic but it could be better; and <span style="font-weight: bold; color: rgb(255, 102, 102);">Red</span> means we have much more work to do.<br>


  <br>


  
<table cellpadding="2" cellspacing="2" border="1" style="width: 90%; text-align: left; margin-left: auto; margin-right: auto;">


    <tbody>
      <tr>
        <td style="vertical-align: top; width: 20%; border-top-width: 0pt; border-left-width: 0pt;"><br>
        </td>
        <td style="vertical-align: top; width: 20%; font-weight: bold; text-align: center;">Data<br>
        </td>
        <td style="vertical-align: top; width: 20%; font-weight: bold; text-align: center;">Code<br>
        </td>
        <td style="vertical-align: top; width: 20%; font-weight: bold; text-align: center;">Documentation<br>
        </td>
        <td style="vertical-align: top; width: 20%; text-align: center;"><span style="font-weight: bold;">QA</span><br>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top; width: 20%; font-weight: bold; text-align: right;">Inversion<br>
        </td>
        <td style="vertical-align: top; width: 20%; background-color: rgb(204, 204, 204);"><br>
        </td>
        <td style="vertical-align: top; width: 20%; text-align: center;">?<br>
        </td>
        <td style="vertical-align: top; width: 20%; background-color: rgb(153, 153, 255);"><br>
        </td>
        <td style="vertical-align: top; width: 20%; background-color: rgb(153, 153, 255);"><br>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top; width: 20%; font-weight: bold; text-align: right;">Insertion<br>
        </td>
        <td style="vertical-align: top; width: 20%; background-color: rgb(204, 204, 204);"><br>
        </td>
        <td style="vertical-align: top; width: 20%; background-color: rgb(204, 204, 204);"><br>
        </td>
        <td style="vertical-align: top; width: 20%; background-color: rgb(153, 153, 255);"><br>
        </td>
        <td style="vertical-align: top; width: 20%; background-color: rgb(153, 153, 255);"><br>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top; width: 20%; font-weight: bold; text-align: right;">Editing<br>
        </td>
        <td style="vertical-align: top; width: 20%; background-color: rgb(204, 204, 204);"><br>
        </td>
        <td style="vertical-align: top; width: 20%; text-align: center; background-color: rgb(204, 204, 204);"><br>
        </td>
        <td style="vertical-align: top; width: 20%; text-align: center; background-color: rgb(153, 153, 255);"><br>
        </td>
        <td style="vertical-align: top; width: 20%; text-align: center; background-color: rgb(153, 153, 255);"><br>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top; width: 20%; font-weight: bold; text-align: right;">Production<br>
        </td>
        <td style="vertical-align: top; width: 20%; background-color: rgb(204, 204, 204);"><br>
        </td>
        <td style="vertical-align: top; width: 20%; background-color: rgb(204, 204, 204);"><br>
        </td>
        <td style="vertical-align: top; width: 20%; background-color: rgb(204, 204, 204);"><br>
        </td>
        <td style="vertical-align: top; background-color: rgb(204, 204, 204);"><br>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top; width: 20%; text-align: right;"><span style="font-weight: bold;">Subsetting</span></td>
        <td style="vertical-align: top; width: 20%; background-color: rgb(204, 204, 204);"><br>
        </td>
        <td style="vertical-align: top; width: 20%; background-color: rgb(204, 204, 204);"><br>
        </td>
        <td style="vertical-align: top; width: 20%; text-align: center;">?<br>
        </td>
        <td style="vertical-align: top; width: 20%; background-color: rgb(204, 204, 204);"><br>
        </td>
      </tr>
    </tbody>
  
</table>


&nbsp;<br>


&nbsp;<br>


Now, we will go into more details about what actually lives in each of the populated boxes in the table above.<br>


  <br>


  
<div style="text-align: left;"><span style="font-style: italic;">Inversion<br>
&nbsp;<br>
  </span></div>


  
<table cellpadding="2" cellspacing="2" border="1" style="text-align: left; width: 90%; margin-left: auto; margin-right: auto;">


    <tbody>
      <tr>
        <td style="vertical-align: top; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt; width: 10%;"><br>
        </td>
        <td style="vertical-align: top; text-align: center;"><span style="font-weight: bold;">Data</span><br>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;"><span style="font-weight: bold;">Inversion</span><br>
        </td>
        <td style="vertical-align: top;">
        <ul>
          <li>The initial source supplied data does contains the strings used to build the atoms..</li><li>At the end of inversion, atoms appear in the <span style="font-family: monospace;">classes_atoms.src</span> file.&nbsp; When RRF files are nativley handled by the insertion process, data for atoms will appear in <span style="font-family: monospace;">MRCONSO.RRF</span>.<br>
</li><li>Atoms may have UTF-8 strings, but 7-bit ASCII alternatives
created for strings with English or Spanish languages.&nbsp; Hopefully
in the future this can be extended to other languages.<br>
 </li>
</ul></td></tr></tbody></table>&nbsp; <br>


  
<table cellpadding="2" cellspacing="2" border="1" style="text-align: left; width: 90%; margin-left: auto; margin-right: auto;">



  <tbody>
    <tr>
      <td style="vertical-align: top; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt; width: 10%;"><br>
      </td>
      <td style="vertical-align: top; text-align: center;"><span style="font-weight: bold;">Code</span><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; text-align: right;"><span style="font-weight: bold;">Inversion</span>
      </td>
      <td style="vertical-align: top;">
      
      <ul>
        <li>Inversion
code relating to atoms is ad-hoc and based on each source.&nbsp;
Source inverters must determine how to map source data to atoms.&nbsp; This is often <span style="font-style: italic;">not</span> an algorithmic process.</li>
        <li>The "<a href="/Inversion/inversion.html#qa">Inversion QA tools</a>" are software for validating the .src formats.</li>
        <li>Suresh's <a href="/unicode/tools.html">Unicode tools</a> are used to transform 8-bit strings into 7-bit.<br>
        </li>
      </ul>
      <ul>

      </ul>

      </td>
    </tr>
  </tbody>
  
</table>


&nbsp;<br>


  
<table cellpadding="2" cellspacing="2" border="1" style="text-align: left; width: 90%; margin-left: auto; margin-right: auto;">



  <tbody>
    <tr>
      <td style="vertical-align: top; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt; width: 10%;"><br>
      </td>
      <td style="vertical-align: top; text-align: center;"><span style="font-weight: bold;">Documentation</span><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; text-align: right;"><span style="font-weight: bold;">Inversion</span><br>
      </td>
      <td style="vertical-align: top;">
      <ul><li>There is an inversion info page called "<a href="/Inversion/atoms.html">More info on atoms and classes_atoms.src</a>".</li>
        <li>The "<a href="/Inversion/invert_meme4.html#classes_atoms.src">How to invert a source</a>" page contains some information on using <span style="font-family: monospace;">classes_atoms.src</span>.<br>
        </li>
        <li>The <span style="font-family: monospace;">classes_atoms.src</span> file format is documented on the <a href="file:///MEME/Data/src_format.html">Source Insertion Input Format</a> page.</li>
        <li>Information
about the atoms from a particular source and (hopefully) what
criteria was used to pick certain term types can be found by looking up
the source on the master sources page:<br>
            <a href="http://meow.nlm.nih.gov/Sources/sources.html">http://meow.nlm.nih.gov/Sources/sources.html</a></li>
</ul>
      </td>
    </tr>
  </tbody>
  
</table>


&nbsp;<br>


  
<table cellpadding="2" cellspacing="2" border="1" style="text-align: left; width: 90%; margin-left: auto; margin-right: auto;">



  <tbody>
    <tr>
      <td style="vertical-align: top; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt; width: 10%;"><br>
      </td>
      <td style="vertical-align: top; text-align: center;"><span style="font-weight: bold;">Quality Assurance</span><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; text-align: right;"><span style="font-weight: bold;">Inversion</span><br>
      </td>
      <td style="vertical-align: top;"><ul>
      <li>There is <a href="/Inversion/inversion.html#qa">inversion QA</a> to validate some the <span style="font-family: monospace;">classes_atoms.src</span> file.<br>
        </li></ul>
      </td>
    </tr>
  </tbody>
  
</table>


&nbsp;<br>


  <br>


  <span style="font-style: italic;">Insertion</span><br>


&nbsp;<br>




  
<table cellpadding="2" cellspacing="2" border="1" style="text-align: left; width: 90%; margin-left: auto; margin-right: auto;">



  <tbody>
    <tr>
      <td style="vertical-align: top; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt; width: 10%;"><br>
      </td>
      <td style="vertical-align: top; text-align: center;"><span style="font-weight: bold;">Data</span><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; text-align: right;"><span style="font-weight: bold;">Insertion</span><br>
      </td>
      <td style="vertical-align: top;">
      <ul><li>At the start of insertion, atoms take the form of the <span style="font-family: monospace;">classes_atoms.src</span> file.&nbsp; Each atom is assigned a <a href="/MEME/Training/glossary.html#source_atom_id">source atom id</a>, or a <a href="/MEME/Training/glossary.html#term_id">term id</a> which serves as a unique atom id for that line in the file.</li><li>An insertion process takes all of the strings in the classes file and puts them into <span style="font-family: monospace;">strings.src</span>.<br>
        </li>
<li>The data from these .src files is then loaded into the MID tables <a href="/MEME/Training/tables/source_classes_atoms.html"><span style="font-family: monospace;">source_classes_atoms</span></a> and <a href="/MEME/Training/tables/source_string_ui.html"><span style="font-family: monospace;">source_string_ui</span></a>. The tables are similar in structure to the file formats.<br>
        </li>
<li>.At this point, there are four termgroup-level attributes</li>
          <ul>
            <li>suppressible.&nbsp; Indicates (Y,N) whether or not the termgroup is suppressible.<br>
            </li>
            <li>exclude.&nbsp; Indicates (Y,N) whether or not the termgroup should be excluded from matching.<br>
            </li>
            <li>norm_exclude. Indicates (Y,N) whether ot not the termgroup should be excluded from norm string matching.<br>
            </li>
            <li>rank. Indicates the absolute rank of the termgroup (can then be ranked relative to other termgroups based on their ranks).<br>
            </li>
          </ul><li>The <a href="/MEME/Training/tables/source_termgroup_rank.html"><span style="font-family: monospace;">source_classes_atoms</span></a>
table is a staging are for the atoms.&nbsp; Once string UIs, AUI,
termgroup rank, rank, atom_id, and the concept_id are computed, the
data is inserted into the <a href="/MEME/Training/tables/termgroup_rank.html"><span style="font-family: monospace;">classes</span></a> table.&nbsp; The strings are loaded into <a href="/MEME/Training/tables/atoms.html"><span style="font-family: monospace;">atoms</span></a> and <a href="/MEME/Training/tables/string_ui.html"><span style="font-family: monospace;">string_ui</span></a>.</li>
          <li>Each atom in the MID has a termgroup associated with it.&nbsp; The termgroup values (e.g. MTH/PT)&nbsp; are stored first in <span style="font-family: monospace;">source_classes_atoms</span> (after <span style="font-family: monospace;">classes_atoms.src</span> is loaded), and then stored in <span style="font-family: monospace;">classes</span>.<br>
          </li>
</ul>
      </td>
    </tr>
  </tbody>
  
</table>


&nbsp;  <br>



  
<table cellpadding="2" cellspacing="2" border="1" style="text-align: left; width: 90%; margin-left: auto; margin-right: auto;">




  <tbody>
    <tr>
      <td style="vertical-align: top; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt; width: 10%;"><br>
      </td>
      <td style="vertical-align: top; text-align: center;"><span style="font-weight: bold;">Code</span><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; text-align: right;"><span style="font-weight: bold;">Insertion</span><br>
      </td>
      <td style="vertical-align: top;">
      
        <ul>
          <li>Recipe writer.</li><li>$MEME_HOME/bin/classes_to_strings.csh</li>
        <li>MEME_SOURCE_PROCESSING.assign_meme_ids</li>
        <li>MEME_SOURCE_PROCESSING.assign_string_uis<br>
        </li>
        <li>MEME_SOURCE_PROCESSING.assing_auis</li>
        <li>MEME_SOURCE_PROCESSING.core_table_insert</li>
        <li>MEME_RANKS.set_ranks</li>
        <li>MEME_RANKS.set_preference<br>
        </li>
        <li>b</li>
        <li>c</li>
        <li>d</li>
        <li>e<br>
        </li>
</ul>
      <ul>
<li>Termgroups are loaded from the file to the table via the <span style="font-family: monospace;">$MEME_HOME/bin/load_section.csh</span> script.&nbsp; This script takes a database and an <span style="font-family: monospace;">.src</span> file (e.g. <span style="font-family: monospace;">termgroups.src</span>).&nbsp;
The script writes a SQL*Loader control file and loads the file
(<span style="font-family: monospace;">termgroups.src</span>) into its corresponding source table (e.g. <a href="/MEME/Training/tables/source_termgroup_rank.html"><span style="font-family: monospace;">source_termgroup_rank</span></a>).</li>

          <li>Termgroups are loaded from <a href="/MEME/Training/tables/source_termgroup_rank.html"><span style="font-family: monospace;">source_termgroup_rank</span></a> into <a href="/MEME/Training/tables/termgroup_rank.html"><span style="font-family: monospace;">termgroup_rank</span></a> via the <a href="/MEME/Documentation/plsql_msp.html#insert_ranks"><span style="font-family: monospace;">MEME_SOURCE_PROCESSING.insert_ranks</span></a> procedure.</li>
          <li>Both of these calls are made by the <span style="font-family: monospace;">$MEME_HOME/bin/load_section.csh</span> script.</li><li><a href="/MEME/Documentation/plsql_msp.html#core_table_insert" style="font-family: monospace;">MEME_SOURCE_PROCESSING.core_table_insert</a>. Computes termgroup rank for <a href="/MEME/Training/tables/source_classes_atoms.html"><span style="font-family: monospace;">source_classes_atoms</span></a>.</li>
        <li>When merging based on matches, certain matches can be
restricted if the termgroups of the matched atoms appear on either of
the exclude lists.&nbsp; This functionality is supported by <a href="/MEME/Documentation/plsql_msp.html#filter_facts" style="font-family: monospace;">MEME_SOURCE_PROCESSING.filter_facts</a>.<br>
        </li>

          <li><a href="/MEME/Documentation/plsql_mr.html#set_ranks"><span style="font-family: monospace;">MEME_RANKS.set_ranks</span></a> (Recompute <a href="/MEME/Training/tables/classes.html"><span style="font-family: monospace;">classes</span></a>.rank field)<br>
</li>
          <li><a href="/MEME/Documentation/plsql_mr.html#set_preference"><span style="font-family: monospace;">MEME_RANKS.set_preference</span></a> (Recomputes preferred atom of a concept, based partly on the termgroup rank).<br>
          </li>
        
      </ul>


      </td>
    </tr>
  </tbody>
  
</table>



&nbsp;<br>



  
<table cellpadding="2" cellspacing="2" border="1" style="text-align: left; width: 90%; margin-left: auto; margin-right: auto;">




  <tbody>
    <tr>
      <td style="vertical-align: top; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt; width: 10%;"><br>
      </td>
      <td style="vertical-align: top; text-align: center;"><span style="font-weight: bold;">Documentation</span><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; text-align: right;"><span style="font-weight: bold;">Insertion</span><br>
      </td>
      <td style="vertical-align: top;">
      <ul><li>The <span style="font-family: monospace;">termgroups.src</span> file format is documented on the <a href="file:///MEME/Data/src_format.html#ranks">Source Insertion Input Format</a> page.</li><li>All MID tables (including <a href="/MEME/Training/tables/source_termgroup_rank.html"><span style="font-family: monospace;">source_termgroup_rank</span></a> and <a href="/MEME/Training/tables/termgroup_rank.html"><span style="font-family: monospace;">termgroup_rank</span></a>) are documented here: <a href="http://meow.nlm.nih.gov/MEME/Training/tables_all.html">http://meow.nlm.nih.gov/MEME/Training/tables_all.html</a>.</li>
          <li>There is information for source inserters on what to do with <span style="font-family: monospace;">termgroups.src</span> on the "<a href="/MEME/Training/how_to_insert_a_source.html">How to insert a source</a>" page.</li>
</ul></td></tr></tbody>
  
</table>


&nbsp;<br>



  
<table cellpadding="2" cellspacing="2" border="1" style="text-align: left; width: 90%; margin-left: auto; margin-right: auto;">




  <tbody>
    <tr>
      <td style="vertical-align: top; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt; width: 10%;"><br>
      </td>
      <td style="vertical-align: top; text-align: center;"><span style="font-weight: bold;">Quality Assurance</span><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; text-align: right;"><span style="font-weight: bold;">Insertion</span><br>
      </td>
      <td style="vertical-align: top;"><ul><li>We ensure that every termgroup indicated in <span style="font-family: monospace;">termgroups.src</span> added to the MID.&nbsp;&nbsp; This is part of <a href="/MEME/Documentation/plsql_msp.html#insert_ranks"><span style="font-family: monospace;">MEME_SOURCE_PROCESSING.insert_ranks</span></a>.&nbsp;&nbsp; While there is no overt QA for it, this procedure will fail if there is a problem with the termgroups.src file.<br>
</li><li>We verify that every atom's termgroup exists in the MID before inserting it into <a href="file:///MEME/Training/tables/classes.html"><span style="font-family: monospace;">classes</span></a>.&nbsp; This is done by setting the termgroup rank in <a href="/MEME/Training/tables/source_classes_atoms.html"><span style="font-family: monospace;">source_classes_atoms</span></a>.&nbsp; If a termgroup is missing, the rank gets set to null which produces an error when the insert into <a href="/MEME/Training/tables/classes.html"><span style="font-family: monospace;">classes</span></a> happens.&nbsp; Again, there is no overt QA for this, but the insert will fail if there are any bogus termgroups.<br>
        </li>
</ul>
      </td>
    </tr>
  </tbody>
  
</table>


&nbsp;
  <br>


  <span style="font-style: italic;">Editing</span><br>


&nbsp;<br>





  
<table cellpadding="2" cellspacing="2" border="1" style="text-align: left; width: 90%; margin-left: auto; margin-right: auto;">




  <tbody>
    <tr>
      <td style="vertical-align: top; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt; width: 10%;"><br>
      </td>
      <td style="vertical-align: top; text-align: center;"><span style="font-weight: bold;">Data</span><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; text-align: right;"><span style="font-weight: bold;">Editing</span><br>
      </td>
      <td style="vertical-align: top;">
      <ul><li>The list of valid MID termgroups (with ranks and suppressibility) can be found in <a href="/MEME/Training/tables/termgroup_rank.html"><span style="font-family: monospace;">termgroup_rank</span></a>.</li><li>Atoms in the MID also have termgroup and term type values associated with them (in <a href="/MEME/Training/tables/classes.html"><span style="font-family: monospace;">classes</span></a>, <a href="/MEME/Training/tables/dead_classes.html"><span style="font-family: monospace;">dead_classes</span></a>, and <a href="/MEME/Training/tables/foreign_classes.html"><span style="font-family: monospace;">foreign_classes</span></a>).</li><li>Termgroups are represented in the code by the MEME4 <a href="/javadoc/gov/nih/nlm/meme/common/Termgroup.html"><span style="font-family: monospace;">Termgroup</span></a> object.</li>
        <li>Certain termgroups have special semantics.</li>
        <ul>
          <li>MTH/MM, MTH/TM.&nbsp; These termgroups represent strings with multiple meanings.</li>
          <li>MTH/PN.&nbsp; This termgroup represents an editor assigned preferred name for a concept.</li>
          <li>SRC/R*.&nbsp; These termgroups are used for atoms in the concepts representing "root" sources.</li>
          <li>SRC/V*. These termgropus are used for atoms in the concepts representing "versioned" sources.<br>
          </li>
        </ul>


</ul>
      </td>
    </tr>
  </tbody>
  
</table>




&nbsp; <br>




  
<table cellpadding="2" cellspacing="2" border="1" style="text-align: left; width: 90%; margin-left: auto; margin-right: auto;">





  <tbody>
    <tr>
      <td style="vertical-align: top; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt; width: 10%;"><br>
      </td>
      <td style="vertical-align: top; text-align: center;"><span style="font-weight: bold;">Code</span><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; text-align: right;"><span style="font-weight: bold;">Editing</span><br>
      </td>
      <td style="vertical-align: top;">
      
        <ul>
          <li>The MEME application server (and associated clients) make use of <a href="/javadoc/gov/nih/nlm/meme/common/Termgroup.html"><span style="font-family: monospace;">Termgroup</span></a> objects in several ways.</li>
        <ul>
          <li>The server caches the available termgroups on startup</li>
          <li>The <a href="/javadoc/gov/nih/nlm/meme/client/AuxiliaryDataClient.html"><span style="font-family: monospace;">AuxiliaryDataClient</span></a>/<a href="/javadoc/gov/nih/nlm/meme/server/AuxiliaryDataService.html"><span style="font-family: monospace;">Service</span></a> provide client access to the termroup list.</li>
          <li>The <a href="/MEME/Documentation/gov/nih/nlm/meme/client/CoreDataClient.html"><span style="font-family: monospace;">CoreDataClient</span></a>/<a href="/MEME/Documentation/gov/nih/nlm/meme/server/CoreDataService.html"><span style="font-family: monospace;">Service</span></a> will return data like atoms which have termgroups.</li>
          <li>The <a href="/MEME/Documentation/gov/nih/nlm/meme/server/ReportsGenerator.html"><span style="font-family: monospace;">ReportsGenerator</span></a>/<a href="/MEME/Documentation/gov/nih/nlm/meme/client/ReportsClient.html" style="font-family: monospace;">Client</a> will return reports which display the termgroup values.<br>
          </li>
        </ul>
<li>Jekyll will display termgroups for atoms loaded into the interface.<br>
</li><li>Periodically throughout the editing cycle, we will need to run <a href="/MEME/Documentation/plsql_mr.html#set_ranks"><span style="font-family: monospace;">MEME_RANKS.set_ranks</span></a>, and <a href="/MEME/Documentation/plsql_mr.html#set_preference"><span style="font-family: monospace;">MEME_RANKS.set_preference</span></a> to recompute the termgroup ranks and the preferred atom id of each concept.&nbsp; Both of these tools are available from the <a href="/cgi-lti-oracle/mid_maintenance.cgi">MID Maintenance</a> CGI tool.<br>
</li><li>The special termgroup MTH/TM is maintained by the <span style="font-family: monospace;">$MEME_HOME/bin/mthtm.pl</span> script (with related functionality available from the <a href="/cgi-lti-oracle/mid_maintenance.cgi">MID Maintenance</a> CGI tool).</li>
        <li>The <a href="/cgi-lti-oracle/mrdoc.cgi">MRDOC Editor</a> is used to maintain the expanded forms and TTY classes for the various allowable term types.<br>
        </li>
</ul></td></tr></tbody></table>&nbsp;<br>




  
<table cellpadding="2" cellspacing="2" border="1" style="text-align: left; width: 90%; margin-left: auto; margin-right: auto;">





  <tbody>
    <tr>
      <td style="vertical-align: top; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt; width: 10%;"><br>
      </td>
      <td style="vertical-align: top; text-align: center;"><span style="font-weight: bold;">Documentation</span><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; text-align: right;"><span style="font-weight: bold;">Editing</span><br>
      </td>
      <td style="vertical-align: top;">
      <ul><li>There is not currently very much editing documentation on Termgroups.</li><li>The <a href="/MEME/Documentation/data_cacheing.html">Data Caching</a> page talks about it<br>
        </li>
</ul>
      </td>
    </tr>
  </tbody>
  
</table>




&nbsp;<br>




  
<table cellpadding="2" cellspacing="2" border="1" style="text-align: left; width: 90%; margin-left: auto; margin-right: auto;">





  <tbody>
    <tr>
      <td style="vertical-align: top; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt; width: 10%;"><br>
      </td>
      <td style="vertical-align: top; text-align: center;"><span style="font-weight: bold;">Quality Assurance</span><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; text-align: right;"><span style="font-weight: bold;">Editing</span><br>
      </td>
      <td style="vertical-align: top;">
        <ul>
<li>There are several <a href="/cgi-lti-oracle/validate_mid.cgi">MID Validation</a> checks pertaining to termgroups:</li>
          <ul>
            <li>Termgroup does not match tty</li>
            <li>Bad termgroup in root SRC</li>
            <li>Bad termgroup in versioned SRC concept</li>
            <li>Source/Termgroup mismatch in classes (and foreign_classes)<br>
</li>
            <li>rows in classes with invalid termgroups<br>
            </li>
          </ul>
          <li>The <a href="/cgi-lti-oracle/automated_qa.cgi">Automated ("Monster") QA</a> counts the termgroups in classes to ensure that "conservation of mass" is maintained throughout the editing cycel.<br>
</li><li>Many
of the <a href="/MEME/Documentation/plsql_mip.html" style="font-family: monospace;">MEME_INTEGRITY_PROC</a> procedures used to build the <a href="/cgi-oracle-meowusers/ems.pl?action=qa_bins&amp;service=editing-db">QA Bins</a> are based on termgroups.&nbsp;
For example, the MTH/PN and MTH/MM Checks, and the MSH ones which rely
on MSH/MH, MSH/TQ, and MSH/NM termgroups.</li>

        </ul>

      </td>
    </tr>
  </tbody>
  
</table>



&nbsp;&nbsp;
  <br>


  <span style="font-style: italic;">Production</span><br>


&nbsp;<br>





  
<table cellpadding="2" cellspacing="2" border="1" style="text-align: left; width: 90%; margin-left: auto; margin-right: auto;">




  <tbody>
    <tr>
      <td style="vertical-align: top; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt; width: 10%;"><br>
      </td>
      <td style="vertical-align: top; text-align: center;"><span style="font-weight: bold;">Data</span><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; text-align: right;"><span style="font-weight: bold;">Production</span><br>
      </td>
      <td style="vertical-align: top;">
      <ul><li>The list of valid releasable termgroups can be found in <a href="/MRD/Training/tables/mrd_termgroup_rank.html"><span style="font-family: monospace;">mrd_termgroup_rank</span></a>.&nbsp;
This table represents termgroups as they are released (with normalized
source values) rather than how they exist in the MID.&nbsp; For example
the NLM02/SCDC termgroup will be represented here as RXNORM/SCDC.<br>
</li><li>MRRANK contains the ranked list of valid termgroups for a release (and indicates which are suppressible).<br>
</li>
          <li>Each atom represented in MRCONSO is given an SAB and a TTY value, which together form a termgroup.<br>
</li>
          <li>MRDOC contains some important information about
TTY values.&nbsp; In particular, it provides expansions of the TTY
abbreviations (expanded_form) and it assignes them to logical groups
(tty_class).</li><li>In the production code, temrgroups are still represented by MEME4 <a href="/javadoc/gov/nih/nlm/meme/common/Termgroup.html"><span style="font-family: monospace;">Termgroup</span></a> objects.</li>
</ul></td></tr></tbody></table>&nbsp;<br>




  
<table cellpadding="2" cellspacing="2" border="1" style="text-align: left; width: 90%; margin-left: auto; margin-right: auto;">





  <tbody>
    <tr>
      <td style="vertical-align: top; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt; width: 10%;"><br>
      </td>
      <td style="vertical-align: top; text-align: center;"><span style="font-weight: bold;">Code</span><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; text-align: right;"><span style="font-weight: bold;">Production</span><br>
      </td>
      <td style="vertical-align: top;">
      
        <ul>
          <li>FullMRRANKReleaseHandler</li>
          <li>MRDConnection.getReleaseTermgroups</li>
          <li>ReleaseManager (web application for building release).</li><li>Release maintenance page<br>
        </li>

        </ul>
</td></tr></tbody>
  
</table>


  <br>




  
<table cellpadding="2" cellspacing="2" border="1" style="text-align: left; width: 90%; margin-left: auto; margin-right: auto;">





  <tbody>
    <tr>
      <td style="vertical-align: top; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt; width: 10%;"><br>
      </td>
      <td style="vertical-align: top; text-align: center;"><span style="font-weight: bold;">Documentation</span><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; text-align: right;"><span style="font-weight: bold;">Production</span><br>
      </td>
      <td style="vertical-align: top;">
      <ul><li><a href="/MRD/Documentation/mrrank.html">MRRANK</a> documentation.</li><li><a href="/MRD/Documentation/mrconso.html">MRCONSO</a> documentation.</li>
        <li><a href="/MRD/Documentation/mrdoc.html">MRDOC</a> documentation.<br>
        </li>
</ul></td></tr></tbody></table>&nbsp;<br>




  
<table cellpadding="2" cellspacing="2" border="1" style="text-align: left; width: 90%; margin-left: auto; margin-right: auto;">





  <tbody>
    <tr>
      <td style="vertical-align: top; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt; width: 10%;"><br>
      </td>
      <td style="vertical-align: top; text-align: center;"><span style="font-weight: bold;">Quality Assurance</span><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; text-align: right;"><span style="font-weight: bold;">Production</span><br>
      </td>
      <td style="vertical-align: top;"><ul><li>Termgroups in the release are validated by the standard QA suite as run on MRDOC, MRCONSO, and MRRANK.&nbsp; The suite includes:</li>
        <ul>
          <li>$MRD_HOME/qa/gold_script.csh - generates counts from MRD to compare against file counts</li>
          <li>$MRD_HOME/qa/qa_counts.csh - generates counts of the MR Files.</li>
          <li>$MRD_HOME/qa/qa_checks.csh - performs semantic validation checks</li>
        </ul>
        <li>Raw tallies of the SAB,TTY values are also available which can be subjected to human review.</li>
        <li>The <a href="/cgi-lti-oracle/automated_qa.cgi">Automated (Monster) QA</a> is used to validate the loading of data from the MID to the MRD, including termgroups.<br>
        </li>
</ul>
      </td>
    </tr>
  </tbody>
  
</table>



&nbsp;
  <br>


  <span style="font-style: italic;">Subsetting<br>
  </span>&nbsp;<br>





  
<table cellpadding="2" cellspacing="2" border="1" style="text-align: left; width: 90%; margin-left: auto; margin-right: auto;">




  <tbody>
    <tr>
      <td style="vertical-align: top; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt; width: 10%;"><br>
      </td>
      <td style="vertical-align: top; text-align: center;"><span style="font-weight: bold;">Data</span><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; text-align: right;"><span style="font-weight: bold;">Subsetting</span><br>
      </td>
      <td style="vertical-align: top;">
      <ul><li>As
with production, termgroups are primarily represented in MRRANK.&nbsp;
A Metathesaurus subset contains the MRRANK entries from the input files
that belong to the sources that the user opted to keep.</li><li>Temrgroup values are associated with atoms in the subset in MRCONSO.</li><li>MRDOC is copied entact during subsetting, and contains the same data as in production.</li>
        <li>There are three objects in the UMLS Object Model that are relevant to termgroups:</li>
        <ul>
          <li><a href="/Objects/javadoc/gov/nih/nlm/umls/meta/SourceTermType.html" style="font-family: monospace;">SourceTermType</a>.&nbsp; Represents a release termgroup.<br>
          </li>
          <li><a href="/Objects/javadoc/gov/nih/nlm/umls/meta/TermType.html"><span style="font-family: monospace;">TermType</span></a>. Represents a term type (with its expanded form) and provides access to all valid term types.<br>
          </li>
          <li><a href="/Objects/javadoc/gov/nih/nlm/umls/meta/TermTypeGroup.html"><span style="font-family: monospace;">TermTypeGroup</span></a>.&nbsp; Provides access to TTY class information for a term type.<br>
          </li>
        </ul>
<li>The MMSYS application configuration files contain two lists of
termgroups.&nbsp; One is the list of valid termgroups for a particular
release (should be same as MRRANK) and the other is the defalut
precedence order (should also be same as MRRANK).&nbsp; This data is
represented in MMSYS as an <a href="/MMS/Documentation/javadoc/gov/nih/nlm/mms/ApplicationConfiguration.html"><span style="font-family: monospace;">ApplicationConfiguration</span></a> object.<br>
</li><li>The MMSYS user configuration files contain the precedence list
of termgroups that the user has selected. This data is represented in
MMSYS as a <a href="/MMS/Documentation/javadoc/gov/nih/nlm/mms/UserConfiguration.html"><span style="font-family: monospace;">UserConfiguration</span></a> object.</li>
        <li>During subsetting, the <a href="/Objects/javadoc/gov/nih/nlm/umls/meta/ReleaseMetadata.html"><span style="font-family: monospace;">ReleaseMetadata</span></a>
object is used to pass information about the termgroup precedence order
to the output handler (which writes the output MRRANK) and also
information for MRDOC.<br>
        </li>
</ul></td></tr></tbody></table>&nbsp; <br>




  
<table cellpadding="2" cellspacing="2" border="1" style="text-align: left; width: 90%; margin-left: auto; margin-right: auto;">





  <tbody>
    <tr>
      <td style="vertical-align: top; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt; width: 10%;"><br>
      </td>
      <td style="vertical-align: top; text-align: center;"><span style="font-weight: bold;">Code</span><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; text-align: right;"><span style="font-weight: bold;">Subsetting</span><br>
      </td>
      <td style="vertical-align: top;">
      
        <ul>
          <li>The MMSYS filter <a href="/MMS/Documentation/javadoc/gov/nih/nlm/mms/filters/PrecedenceFilter.html"><span style="font-family: monospace;">PrecedenceFilter</span></a>
is responsible for using termgroups to recompute the ranks of the atoms
in the subset for setting the various MRCONSO fields: TS, STT, ISPREF.<br>
</li>
          <li>The MMSYS filter <a href="/MMS/Documentation/javadoc/gov/nih/nlm/mms/filters/SuppressibleTermgroupsFilter.html" style="font-family: monospace;">SuppressibleTermgroupsFilter</a> is responsible for setting the suppressibliity of atoms based on termgroups (and optionally removing them from the subset).<br>
</li>
          <li>The <a href="/MMS/Documentation/javadoc/gov/nih/nlm/mms/MetathesaurusInputStream.html"><span style="font-family: monospace;">MetathesaurusInputStream</span></a> implementations are responsible for reading MRDOC data into a  object, and <a href="/MMS/Documentation/javadoc/gov/nih/nlm/mms/MetathesaurusOutputStream.html" style="font-family: monospace;"></a><a href="/Objects/javadoc/gov/nih/nlm/umls/meta/ReleaseMetadata.html"><span style="font-family: monospace;">ReleaseMetadata</span></a>MetathesaurusOutputStream implementations are responsible for writing MRDOC and MRRANK data.<br>
</li></ul></td></tr></tbody></table>&nbsp;<br>




  
<table cellpadding="2" cellspacing="2" border="1" style="text-align: left; width: 90%; margin-left: auto; margin-right: auto;">





  <tbody>
    <tr>
      <td style="vertical-align: top; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt; width: 10%;"><br>
      </td>
      <td style="vertical-align: top; text-align: center;"><span style="font-weight: bold;">Documentation</span><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; text-align: right;"><span style="font-weight: bold;">Subsetting</span><br>
      </td>
      <td style="vertical-align: top;">
      <ul><li>There is not a lot of documentation on termgroups in the release.</li><li>The MMSYS filters are documented through the help screens and through the UMLS documentation.<br>
        </li>
<li>The UMLS documentation also covers the MRRANK, MRDOC, and MRCONSO files.<br>
</li></ul></td></tr></tbody></table>&nbsp;<br>




  
<table cellpadding="2" cellspacing="2" border="1" style="text-align: left; width: 90%; margin-left: auto; margin-right: auto;">





  <tbody>
    <tr>
      <td style="vertical-align: top; border-top-width: 0pt; border-bottom-width: 0pt; border-left-width: 0pt; width: 10%;"><br>
      </td>
      <td style="vertical-align: top; text-align: center;"><span style="font-weight: bold;">Quality Assurance</span><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; text-align: right;"><span style="font-weight: bold;">Subsetting</span><br>
      </td>
      <td style="vertical-align: top;"><ul><li>We
have a series of automated MetamorphoSys test suites, some of which
validate termgroup behavior (e.g. the precedence filter change test).</li><li>Production validation suites can be run against a Metathesaurus subset (gold script, qa_counts.csh, and qa_checks.csh)<br>
          </li>
</ul>
      </td>
    </tr>
  </tbody>
  
</table>



&nbsp;&nbsp;
  <br>


  <br>


  
<h3><span style="font-weight: bold;">Quiz</span></h3>


Here are some sample questions to test your understanding of termgroups.<br>


  
<ol>


    <li>What is a termgroup?<br>
    </li>
    <li>Why is termgroup only used internally?&nbsp; What is a "termgroup" called in the UMLS Metathesaurus documentation?</li>
    <li>How is a termgroup used in the ranking of an <a href="/MEME/Training/glossary.html#atom">atom</a>?</li>
    <li>What is the highest ranking termgroup?</li>
    <li>Does the MRRANK of a Metathesaurus subset have termgroups that do not appear in MRCONSO?&nbsp; Under what conditions?<br>
    </li>
  
</ol>


  <br>


  
<h3><a name="references"></a>References/Links</h3>


  
<p>Use the following references for more information.
  </p>


  
<ul>


<li>No additional links (yet).<br>
</li>
</ul>


  
<div style="text-align: center;">&nbsp; <br>
[ <a href="#overview">overview</a> | <a href="#details">details</a> | <a href="#references">references</a> ]<br>
  </div>


  <br>


<center>
 
</center>



<p>
</p>
<hr width="100%" style="font-style: italic;">
<table border="0" cols="2" width="100%">

 <tbody><tr>
  <td align="left" valign="top">
   
  <a href="uo_index.html"><span style="font-style: italic;">Index</span></a><br>
</td>
  <td align="right" valign="top">
   <address>
    <font size="-1">
     Contact: <a href="mailto:bcarlsen@apelon.com">Brian A. Carlsen</a>
    </font>
   </address>
   <address><font size="-1">Created: 01/01/2004</font></address>
   <address><font size="-1">Last Updated: 05/21/2004</font></address>
  </td>
 </tr>
</tbody>
</table>
<!-- These comments are used by the What's new Generator --><!-- Changed On: 2004/05/21 --><!-- Changed by: Brian Carlsen --><!-- Change Note: MEME - Training - UMLS Data Strucutres - Termgroup --><!-- Fresh for: 1 month -->






</body></html>