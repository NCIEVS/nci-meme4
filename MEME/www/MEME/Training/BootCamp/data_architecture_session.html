<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head>
   
  <meta http-equiv="Content-Type" content="text/html; charset=utf8"><title>MEME Boot Camp Schedule - Data Architecture</title></head><body style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);" alink="#ff0000" link="#3333ff" vlink="#999999">

<center><h2>Data Architecture<br>
</h2></center>

<hr width="100%">
<blockquote>
  <h3>Instructor</h3>
BAC: Brian Carlsen<br>
  <h3>Attendees</h3>
  <table style="text-align: left; width: 100%;" border="0" cellpadding="0" cellspacing="0">
<tbody><tr><td style="vertical-align: top;"><span style="font-weight: bold;">Apelon</span><br>
      </td>
      <td style="vertical-align: top;"><br>
      </td>
    </tr>
    
    <tr>
      <td style="vertical-align: top;">RBE: Bobby Edrosa<br>
      </td>
      <td style="vertical-align: top;"><a href="mailto:redrosa@apelon.com">redrosa@apelon.com</a><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">TK: Tim Kao<br>
      </td>
      <td style="vertical-align: top;"><a href="mailto:tkao@apelon.com">tkao@apelon.com</a><br>
      </td>
    </tr>
    
    <tr>
      <td style="vertical-align: top;">SBM: Stuart Mayhugh<br>
      </td>
      <td style="vertical-align: top;"><a href="mailto:smayhugh@mail.nlm.nih.gov">smayhugh@mail.nlm.nih.gov</a><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">TTN: Tun Tun Naing<br>
      </td>
      <td style="vertical-align: top;"><a href="mailto:tnaing@apelon.com">tnaing@apelon.com</a><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">NEO: Nels Olson<br>
      </td>
      <td style="vertical-align: top;"><a href="mailto:olson@apelon.com%5C">olson@apelon.com</a><br>
      </td>
    </tr>
    
    
    
    <tr>
      <td style="vertical-align: top;">&nbsp;<br>
      </td>
      <td style="vertical-align: top;">&nbsp;<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"><span style="font-weight: bold;">OCCS</span></td>
      <td style="vertical-align: top;"><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">KC: Karen Casey<br>
      </td>
      <td style="vertical-align: top;"><a href="mailto:caseyk@mail.nlm.nih.gov">caseyk@mail.nlm.nih.gov</a><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">CK: Chandrakanth Chebiyyam<br>
      </td>
      <td style="vertical-align: top;"><a href="mailto:chebiyc@mail.nlm.nih.gov">chebiyc@mail.nlm.nih.gov</a><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">NH: Naveen Hota<br>
      </td>
      <td style="vertical-align: top;"><a href="mailto:hotan@mail.nlm.nih.gov">hotan@mail.nlm.nih.gov</a><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">SL: Simon Liu<br>
      </td>
      <td style="vertical-align: top;"><a href="mailto:lius@mail.nlm.nih.gov">lius@mail.nlm.nih.gov</a><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">WM: Wei Ma<br>
      </td>
      <td style="vertical-align: top;"><a href="mailto:maw@mail.nlm.nih.gov">maw@mail.nlm.nih.gov</a><br>
      </td>
    </tr>
  </tbody>
  </table>

  <h3>Goals</h3>
  <ul>
    <li><span style="font-weight: bold;">What you should learn:</span></li>
    <ul>
      <li>MID and MRD, similarities and differences</li><li>How Metathesaurus is represented</li>
      <li>The basic categories of MID tables<br>
      </li>

    </ul>
    <li><span style="font-weight: bold;">What you should be able to do:</span></li>
    <ul><li>Join core tables to look up data</li><li>Understand a basic concept report<br>
      </li>


</ul></ul><h3>Handouts</h3>
  <ul>
    <li><a href="/Transition/images/action%20tables.JPG">Action Tables Diagram</a></li><li><a href="/Transition/images/content%20tables.JPG">Core Tables Diagram</a><br>
    </li>

    <li><a href="/Transition/images/editing%20tables.jpg">Editing Tables Diagram</a><br>
</li>
    <li><a href="/Transition/images/integrity%20and%20qa%20tables.JPG">Integrity and QA Tables Diagram</a></li><li><a href="/Transition/images/meta%20data%20tables.JPG">Metadata Tables Diagram</a></li>
    <li><a href="/Transition/images/ui%20tables.JPG">UI Tables Diagram</a><br>
      <br>
    </li>
    <li><a href="/Transition/images/mid-mrd%20content%20tables.JPG">MID-MRD Core Tables Diagram<br>
      <br>
</a></li><li><a href="qa_MRDEF.rpt.html">Sample MRDEF QA Report<br>
      <br>
      </a></li>
    <li><a href="sample_concept_report.html">Sample Concept Report</a><br>
    </li>


  </ul>
  <h3>Lecture Outline</h3>
  <ol style="list-style-type: upper-roman;">
    <li>MID - Metathesaurus Information Database<br>
</li>
    <ol style="list-style-type: upper-alpha;">
      <li>DB design considerations</li>
      <ol>
        <li>Historical limitations (Ingres)<br>
        </li>
        <li>Training issues<br>
        </li>
        <li>Little normalization</li>
        <li>No triggers</li>
        <li>Use of PL/SQL <br>
        </li>
        <li>Duplication of certain fields for efficiency<br>
        </li>
        <li>Tables join on fields with similar names (e.g. atom_id, atom_id_1)<br>
        </li>
        <li>Some validation at application level (MEME_APROCS)<br>
        </li>
        <li>Data structures centered around Concept and Atom<br>
        </li>
      </ol>
      <li>Action tables can track all database changes<br>
      </li>
      <li>Core data contains editable content</li>
      <li>Editing tables</li>
      <ol>
        <li>EMS/WMS</li>
        <li>Workflow management</li>
        <li>Worklists, Checklists<br>
        </li>
      </ol>
      <li>Integrity tables support action-level real-time integrity checking</li>
      <li>QA tables drive primary qa systems</li>
      <ol>
        <li>MID Validation</li>
        <li>"Monster QA", Automated QA, Conservation of Mass QA.<br>
        </li>
      </ol>
      <li>Metadata tables define value sets<br>
      </li>
      <li>UI tables</li>
      <ol>
        <li>All UIs every used are tracked forever, in case they come back<br>
        </li>
        <li>Maintain stable identifiers over time<br>
        </li>
      </ol>
    </ol>
    <li>MRD - Metathesaurus Release Database<br>
    </li>
    <ol style="list-style-type: upper-alpha;">
      <li>DB design considerations</li>
      <ol>
        <li>Historical tables: insertion/expiration dates</li>
        <li>Contains an entire copy of the MID.</li>
        <li>PL/SQL enacts most data transformations (lots of SQL)<br>
        </li>
      </ol>
      <li>Primarily a system for transforming data<br>
      </li>
      <li>Intermediate data representation: between MID and Metathesaurus</li>
      <li>MRD tables represent each releasable state of the content and metadata<br>
      </li>
    </ol>
    <li>Metathesaurus</li>
    <ol style="list-style-type: upper-alpha;">
      <li>Relational file structure</li>
      <ol>
        <li>Fields join on similar names</li>
        <li>Metadata files support referential integrity</li>
      </ol>
      <li>Can be easily loaded into DB (MMSYS function)<br>
      </li>
      <li>Indexes needed for actual relational use (e.g. RRF Browser)<br>
      </li>
    </ol>
    <li>Improvements<br>
    </li>
    <ol style="list-style-type: upper-alpha;">
      <li>Less focus on Concepts and Atoms<br>
      </li>
      <li>More explicit representation of levels</li>
      <li>Less redundancy (tables and fields)</li>
      <li>Track data in state more useful for release<br>
      </li>
      <li>Less PL/SQL<br>
      </li>
    </ol>
    <li>Discussion and Questions<br>
    </li>

  </ol>

  <h3>Hands On Experience</h3>Use SQL*Plus to view content directly in the database.<br>
  <ul>
    <li>View Sample Concept Report (CN# .1029402)</li>
    <li>Show how to use queries in the database to actually find the data in question.<br>
    </li>
    <ul>
      <li>Find CUI<br>
        <pre>SELECT cui FROM concept_status WHERE concept_id = 1029402;<br>SELECT distinct last_assigned_cui FROM classes WHERE concept_id= 1029402;</pre>
      </li>
      <li>Find Semantic Types<br>
        <pre>SELECT DISTINCT attribute_value FROM attributes<br>WHERE attribute_name = 'SEMANTIC_TYPE'<br>  AND concept_id = 1029402;</pre>
      </li>
      <li>Find Definitions<br>
        <pre>SELECT a.tobereleased, a.source, b.termgroup, c.text_value <br>FROM attributes a, classes b, stringtab c<br>WHERE a.attribute_name = 'DEFINITION'<br>  AND a.concept_id = 1029402<br>  AND a.atom_id = b.atom_id<br>  AND TO_NUMBER(SUBSTR(a.attribute_value,20)) = c.string_id<br>  AND a.attribute_value like '&lt;&gt;Long_Attribute&lt;&gt;:%'<br>UNION<br>SELECT a.tobereleased, a.source, b.termgroup, a.attribute_value <br>FROM attributes a, classes b<br>WHERE a.attribute_name = 'DEFINITION'<br>  AND a.concept_id = 1029402<br>  AND a.atom_id = b.atom_id<br>  AND a.attribute_value not like '&lt;&gt;Long_Attribute&lt;&gt;:%';</pre>
      </li>
      <li>Find Atoms<br>
        <pre>SELECT string, a.termgroup, a.code, <br>   DECODE(SUBSTR(a.source,1,3),'MSH',source_cui,'') mui<br>FROM classes a, string_ui b<br>WHERE a.concept_id = 1029402 <br>  AND a.sui = b.sui<br>ORDER BY a.lui, a.sui;</pre>
      </li>
      <li>Find Relationships<br>
        <pre>SELECT a.relationship_name, c.string, b.termgroup,<br>       a.relationship_attribute, a.source, a.source_of_label,<br>       concept_id_2, relationship_level<br>FROM relationships a, classes b, string_ui c<br>WHERE a.relationship_level = 'S'<br>  AND a.concept_id_1 = 1029402<br>  AND a.atom_id_1 = b.atom_id<br>  AND b.sui = c.sui<br>UNION<br>SELECT a.relationship_name, c.string, b.termgroup,<br>       a.relationship_attribute, a.source, a.source_of_label,<br>       concept_id_1, relationship_level<br>FROM relationships a, classes b, string_ui c<br>WHERE a.relationship_level = 'S'<br>  AND a.concept_id_2 = 1029402<br>  AND a.atom_id_2 = b.atom_id<br>  AND b.sui = c.sui<br>UNION<br>SELECT a.relationship_name, c.string, b.termgroup,<br>       a.relationship_attribute, a.source, a.source_of_label,<br>       concept_id_2, relationship_level<br>FROM relationships a, classes b, string_ui c, concept_status d<br>WHERE a.relationship_level = 'C'<br>  AND a.concept_id_1 = 1029402<br>  AND a.concept_id_1 = d.concept_id<br>  AND d.preferred_atom_id = b.atom_id<br>  AND b.sui = c.sui<br>UNION<br>SELECT a.relationship_name, c.string, b.termgroup,<br>       a.relationship_attribute, a.source, a.source_of_label,<br>       concept_id_1, relationship_level<br>FROM relationships a, classes b, string_ui c, concept_status d<br>WHERE a.relationship_level = 'C'<br>  AND a.concept_id_2 = 1029402<br>  AND a.concept_id_2 = d.concept_id<br>  AND d.preferred_atom_id = b.atom_id<br>  AND b.sui = c.sui;<br></pre>
      </li>
      <li>Find Context attributes (stringtab)<br>
        <pre>SELECT a.source, c.termgroup, c.code, b.text_value, b.row_sequence <br>FROM attributes a, stringtab b, classes c<br>WHERE a.concept_id = 1029402<br>  AND a.atom_id = c.atom_id<br>  AND TO_NUMBER(SUBSTR(a.attribute_value,20)) = b.string_id<br>  AND a.attribute_value like '&lt;&gt;Long_Attribute&lt;&gt;:%'<br>  AND a.attribute_name = 'CONTEXT'<br>ORDER BY b.string_id, b.row_sequence;<br></pre>
      </li>
      <li>Last approval action<br>
        <pre>SELECT a.timestamp, a.authority <br>FROM molecular_actions a, concept_status b<br>WHERE b.approval_molecule_id = a.molecule_id<br>  AND b.concept_id = 1029402;<br></pre>
      </li>
    </ul>
  </ul>
</blockquote><br>

<hr width="100%">
<table border="0" cols="2" width="100%">

 <tbody><tr>
  <td align="left" valign="top">
   <address>
    <a href="/MEME/Training/BootCamp/boot_camp_schedule.html">MEME Boot Camp Schedule</a>
   </address>
  </td>
  <td align="right" valign="top">
   <address>
    <font size="-1">
     Contact: <a href="mailto:bcarlsen@apelon.com">Brian A. Carlsen</a>
    </font>
   </address>
   <address><font size="-1">Created: 03/21/2005</font></address>
   <address><font size="-1">Last Updated: 03/25/2005</font></address>
  </td>
 </tr>
</tbody>
</table>
<!-- These comments are used by the What's new Generator --><!-- Changed On: 2005/03/21 --><!-- Changed by: Brian Carlsen --><!-- Change Note: MEME - Category - Topic --><!-- Fresh for: 1 month -->






</body></html>
