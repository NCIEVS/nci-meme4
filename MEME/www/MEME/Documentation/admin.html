<html>
<head>
                        
  <meta http-equiv="Content-Type"
 content="text/html; charset=utf8">
                        
  <title>MEME4 Applications - Administrative Services</title>
   
</head>
  <body text="#000000" bgcolor="#ffffff" link="#3333ff" vlink="#999999"
 alink="#ff0000">
            
<center>      
<h3> <font size="+0">MEME Application Server Administration</font></h3>
     </center>
            
<hr><i>Following is documentation on the MEME Application Server administrative
   services client..</i> <br>
     &nbsp;      
<center>     
<table cellpadding="3" width="90%" nosave="">
      <tbody>
         <tr nosave="">
      <td valign="top" nosave=""><b>Administrative Services</b></td>
       <td valign="top" nosave=""><font size="-1">Typically, when the <i>MEME4</i> 
  application server is started, it runs an application service called <tt>AdminService</tt>
   which provides an API for administering the server itself.&nbsp; Currently,
   the following administrative services are supported:</font>          
                         
      <ol>
      <li> <font size="-1">Access to the server log, a session log, or to 
a  log  by transaction id.</font></li>
       <li> <font size="-1">Access to server statistics.</font></li>
       <li> <font size="-1">Ability to shutdown the server.</font></li>
       <li> <font size="-1">A <i>dummy</i> service for testing the connection.</font></li>
       <li> <font size="-1">Ability to refresh data cached by the server.</font></li>
         <li> <font size="-1">Ability to switch the "default" mid service.</font></li>
       <li> <font size="-1">Ability to (globally) enable or disable the integrity 
  system, and check whether or not integrity checking is enabled.</font></li>
       <li> <font size="-1">Ability to enable or disable editing in the MID,
  and check whether or not editing is enabled.</font></li>
       <li> <font size="-1">Ability to enable/disable atomic and molecular
 action  validation.</font></li>
                                         
      </ol>
      </td>
      </tr>
       <tr nosave="">
      <td valign="top" nosave=""><b>The Client</b></td>
       <td valign="top" nosave=""><font size="-1">For your convenience, a 
client   script has been written which connects to the server and accesses 
the server-side   component.&nbsp; By default this script tries to connect 
to the host and  port defined by the <tt>midsvcs.pl</tt> service names <tt>meme-server-host</tt>
   and <tt>meme-server-port</tt>.&nbsp;&nbsp; Following is the usage,</font>
                                     
      <pre><font size="-1">% admin.pl [-s &lt;service&gt;] [-head &lt;#&gt;] [-tail &lt;#&gt;] [-host (host)] [-port (port)]<br><br>&nbsp;Options:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -s &lt;service&gt;:&nbsp; Admin service, the available services are:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; server_log:         View the server log<br></font><font
 size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; session_log:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; View a session log<br></font><font
 size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; session_log_not_seen:&nbsp;View portion of a sessio log<br></font><font
 size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; transaction_log:&nbsp;&nbsp;&nbsp;&nbsp;View a molecular action log<br></font><font
 size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </font><font
 size="-1">stats:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; View server statistics<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dummy:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Test server connection<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; shutdown:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Shut server down<br></font><font
 size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; kill:&nbsp;    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Kill server<br></font><font
 size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; refresh_caches:&nbsp;&nbsp;&nbsp;&nbsp; Refresh server caches<br>                       refresh_db:         Refresh the default mid service<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; is_integrity_enabled: Determine if integrity checking<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; is enabled or not<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enable_integrity:&nbsp;&nbsp; (Globally) enable integrity system<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; disable_integrity:&nbsp; (Globally) disable integrity system<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; is_editing_enabled: Determine if editing is enabled or not<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enable_editing:&nbsp;&nbsp;&nbsp;&nbsp; Enable editing<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; disable_editing:&nbsp;&nbsp;&nbsp; Disable editing<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enable_validate_atomic_action:&nbsp;&nbsp;&nbsp; Enable validate atomic action<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; disable_validate_atomic_action:&nbsp;&nbsp; Disable validate atomic action<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; enable_validate_molecular_action:&nbsp;&nbsp;&nbsp; Enable validate molecular action<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; disable_validate_molecular_action:&nbsp;&nbsp; Disable validate molecular action<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></font><font
 size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -id &lt;#&gt;:&nbsp;&nbsp;&nbsp;&nbsp;   Specify a session or transaction id<br></font><font
 size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -head &lt;#&gt;:&nbsp;&nbsp;&nbsp;&nbsp; Show only the first # of lines of the log<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -tail &lt;#&gt;:&nbsp;&nbsp;&nbsp;&nbsp; Show only the last # of lines of the log<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -host &lt;host&gt;:&nbsp; Machine where the application server is running,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Default is localhost<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -port &lt;port&gt;:&nbsp; Port on which server is listening, default is&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -v[ersion]:&nbsp;&nbsp;&nbsp; Print version information.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -[-]help:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; On-line help</font></pre>
      <font size="-1">In most cases, you simply invoke the client with a
particular    service name.&nbsp; For example,</font>                   
                
      <pre><font size="-1">% admin.pl -s log</font></pre>
      <font size="-1">This call will access the default server and request
 the   entire server log.&nbsp; If you want to connect to a server/port other
 than  the default, you can make use of the <tt>-host</tt> and <tt>-port</tt>
 switches.&nbsp;  For example,</font>                                   
      <pre><font size="-1">% admin.pl -host oa.nlm.nih.gov -port 8081 -s log</font></pre>
      <font size="-1">This call connects to a non-default server and makes
 the   same request as the above call.</font></td>
      </tr>
       <tr>
      <td>&nbsp;</td>
       <td>&nbsp;</td>
      </tr>
       <tr nosave="">
      <td valign="top" nosave=""><b>Server Log</b></td>
       <td valign="top" nosave=""><font size="-1">For more information on 
using   this client to access the server log, <a
 href="/MEME/Documentation/showlog.html">click here</a>.</font></td>
      </tr>
       <tr>
           <td valign="top"><b>Session Log</b><br>
           </td>
           <td valign="top"><font size="-1">This client can be used to view 
 the  log generated by a particular session. &nbsp;Session's generate logs 
 by adding  a "log" parameter to their SessionContext. &nbsp;This script accesses
 that  SessionContext via a session id passed by the </font><font
 size="-1"><tt>-id</tt>  switch. &nbsp;For example,</font>               
                   
      <pre><font size="-1">% admin.pl -s session_log -id 4</font></pre>
      <font size="-1">This call would return the entire session log for session 
  4 (or would indicate that the session does not exist or does not have a 
log).  &nbsp;If you only want a portion of the entire log (the head or tail), 
you  can use the<tt>-head</tt></font><font size="-1"> and&nbsp;<tt>-tail</tt></font><font
 size="-1"> switches. &nbsp;For example, to retrieve the last 20 lines of 
  a session log do this:<br>
           </font>                                   
      <pre><font size="-1">% admin.pl -s session_log -id 4 -tail 20<br></font></pre>
           <font size="-1">If you intent to make repeated requests to view
 the  log, and only want to see the portion that you have not yet seen, invoke 
 the script with the session_log_not_seen service. &nbsp;For example.<br>
           </font>                                   
      <pre><font size="-1">% admin.pl -s session_log_not_seen -id 4<br></font></pre>
           <font size="-1">The <tt>-head</tt> and <tt>-tail</tt> switches 
work   here too.</font><br>
           </td>
         </tr>
         <tr>
           <td valign="top"><b>Transaction Log</b><br>
           </td>
           <td valign="top"><font size="-1">This client can be used to view 
 a  log of molecular actions by a transaction id, specified by the </font><font
 size="-1"><tt>-id</tt> switch.<br>
           </font>                                   
      <pre><font size="-1">% admin.pl -s transaction_log -id 5583824</font></pre>
           <font size="-1">This would return a pretty-printed log of the
molecular   actions involved in transaction 5583824 (or a message indicating
that this   transaction id is invalid). &nbsp;The -<tt>-head</tt> and&nbsp;</font><font
 size="-1"><tt>-tail</tt> switches can also be used to restrict the view to
only the first or last part of the log.<br>
           </font></td>
         </tr>
         <tr nosave="">
      <td valign="top" nosave=""><b>Server Statistics</b></td>
       <td valign="top" nosave=""><font size="-1">For more information on 
using   this client to access server statistics, <a
 href="/MEME/Documentation/stats.html">click here</a>.</font></td>
      </tr>
       <tr nosave="">
      <td valign="top" nosave=""><b>Server Shutdown</b></td>
       <td valign="top" nosave=""><font size="-1">For more information on 
using   this client to shut the server down, <a
 href="/MEME/Documentation/server_start_stop.html#shutdown">click
   here</a>.</font></td>
      </tr>
       <tr nosave="">
      <td valign="top" nosave=""><b>Dummy Service</b></td>
       <td><font size="-1">This client can be used to test the connection 
to  a particular server.&nbsp; All you need to do is invoke it with the dummy
  service, as in,</font>                                    
      <pre><font size="-1">% admin.pl -s dummy</font></pre>
      <font size="-1">To check a host/port other than the defaults you can
 use   the <tt>-host</tt> and <tt>-port</tt> switches.</font></td>
      </tr>
       <tr nosave="">
      <td valign="top" nosave=""><b>Refresh Caches</b></td>
       <td><font size="-1">As the server runs, it caches a variety of data
 that   may become stale over time.&nbsp; This data includes, the midsvcs
key/value   mappings, important data source metadata (like semantic types,
integrity  checks, etc.).&nbsp; If at any time there is concern that caches
are stale,  this client can be used to request that the server refresh the
relevant caches.&nbsp;  For example,</font>                              
     
      <pre><font size="-1">% admin.pl -s refresh_caches</font></pre>
      <font size="-1">This call will prompt the server to refresh any cached
  information  that it manages.&nbsp; In the future, we may implement a more
  selective re-cacheing policy to allow some control over which data is cleared
  and reloaded.<br>
&nbsp;<br>
To switch the default mid service used by the server (i.e. the service used
if you connect with no data source parameters), use a call like this<br>
      </font>
      <pre><font size="-1">% admin.pl -s refresh_db -d editing-db</font><br></pre>
      <font size="-1">This call will re-evaluate editing-db and switch the
default mid to point to that service.</font><br>
      </td>
    </tr>
       <tr nosave="">
      <td valign="top" nosave=""><b>Enable/Disable Integrities</b></td>
       <td valign="top" nosave=""><font size="-1">The integrity system supports 
  a global mechanism for enabling or disabling all checking within the system.&nbsp;
   This acts like a giant switch that can turn of all integrity checking
system-wide.&nbsp;    This client can be used to perform the switching operation.&nbsp;
There  are two calls,</font>                                    
      <pre><font size="-1">% admin.pl -s enable_integrity</font></pre>
      <font size="-1">This call will ensure that the switch is <i>ON</i>, 
regardless   of the previous state.&nbsp;</font>                         
          
      <pre><font size="-1">% admin.pl -s disable_integrity</font></pre>
      <font size="-1">This call will ensure that the switch is <i>OFF</i>,
 regardless   of the previous state.</font>                              
     
      <pre><font size="-1">% admin.pl -s is_integrity_enabled</font></pre>
      <font size="-1">This call will tell you whether or not the integrity
 system   is enabled.</font></td>
      </tr>
       <tr nosave="">
      <td valign="top" nosave=""><b>Enable/Disable Editing</b></td>
       <td><font size="-1">The editing system supports a global mechanism 
for   enabling or disabling the ability of non-guru editors to use the interface.&nbsp;
   This acts like a switch that can turn of all editing system-wide.&nbsp;
 This client can be used to perform the switching operation.&nbsp; There
are  two calls,</font>                                    
      <pre><font size="-1">% admin.pl -s enable_editing</font></pre>
      <font size="-1">This call will ensure that the switch is <i>ON</i>, 
regardless   of the previous state.&nbsp;</font>                         
          
      <pre><font size="-1">% admin.pl -s disable_editing</font></pre>
      <font size="-1">This call will ensure that the switch is <i>OFF</i>,
 regardless   of the previous state.</font>                              
     
      <pre><font size="-1">% admin.pl -s is_editing_enabled</font></pre>
      <font size="-1">This call will tell you whether or not editing is enabled.</font></td>
      </tr>
       <tr nosave="">
      <td valign="top" nosave=""><b>Enable/Disable&nbsp;</b> <br>
           <b>Action Validation</b>.</td>
       <td><font size="-1">The processing of molecular and atomic actions 
can   be performed either with or without validation.&nbsp; The atomic action 
validation  layer is built into the <tt>MEME_APROCS</tt> package and checks 
after each  action to verify whether or not the logged action row represents 
the current  state of the database.&nbsp; The molecular action validation 
layer is built  into the <tt><a
 href="javadoc/gov/nih/nlm/meme/sql/ValidatingActionEngine.html">ValidatingActionEngine</a></tt>
   class and validates object views at a higher logical level to determine
 whether or not something like a <i>merge</i> produced the correct result.&nbsp;
 There are four calls available here,</font>                            
       
      <pre><font size="-1">% admin.pl -s enable_atomic_action_validation</font></pre>
      <font size="-1">This call will enable the atomic action validation
layer.</font>                                      
      <pre><font size="-1">% admin.pl -s disable_atomic_action_validation</font></pre>
      <font size="-1">This call will disable the atomic action validation 
layer.</font>                                     
      <pre><font size="-1">% admin.pl -s enable_molecular_action_validation</font></pre>
      <font size="-1">This call will enable the molecular action validation 
 layer.</font>                                    
      <pre><font size="-1">% admin.pl -s disable_molecular_action_validation</font></pre>
      <font size="-1">This call will disable the molecular action validation
  layer.</font></td>
      </tr>
                     
  </tbody>     
</table>
     </center>
            
<p> </p>
         
<hr width="100%">      
<table border="0" cols="2" width="100%" nosave="">
      <tbody>
         <tr nosave="">
      <td align="left" valign="top" nosave="">                          
         
      <address> <a href="/MEME/">MEME Home</a></address>
      </td>
       <td align="right" valign="top" nosave="">                        
           
      <address> <font size="-1">Contact: <a
 href="mailto:bcarlsen@apelon.com">Brian Carlsen</a></font></address>
                                          
      <address> <font size="-1">Created: 01/31/2002</font></address>
                                          
      <address> <font size="-1">Last Updated: 08/19/2003</font></address>
      </td>
      </tr>
                     
  </tbody>     
</table>
<!-- These comments are used by the What's new Generator --><!-- Changed On: 2003/08/19 --><!-- Changed by: BAC --><!-- Change Note: MEME4 Applications - Administrative Services. --><!-- Fresh for: 1 month --> 
               <br>
      <br>
    <br>
 
</body>
</html>
