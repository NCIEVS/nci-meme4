<html>
<head>
                    
  <meta http-equiv="Content-Type"
 content="text/html; charset=utf8">
                    
  <title>MEME4 Applications - Batch Action Engine</title>
   
</head>
  <body text="#000000" bgcolor="#ffffff" link="#3333ff" vlink="#999999"
 alink="#ff0000">
          
<center>     
<h3> <font size="+0">Batch Action Engine</font></h3>
    </center>
          
<hr><i>Following is documentation on how to run batch.pl.</i> <br>
    &nbsp;     
<center>    
<table cellpadding="3" width="90%" nosave="">
     <tbody>
        <tr nosave="">
     <td valign="top" nosave=""><b>The Environment</b></td>
      <td valign="top" nosave=""><font size="-1">The client side of the <i>MEME4</i> 
  system employs a set of potentially confusing properties which are used 
to configure the part of the client API that interacts directly with the server.&nbsp;&nbsp;
We have taken care to encapsulate all of the necessary environment information
into a single properties file which normally resides in <tt>$MEME_HOME/bin/meme.prop</tt>.&nbsp;
This properties file is a releasable component in <i>MEME4</i> which means
that changes/updates/upgrades to the properties file will be communicated
to NLM via the standard release process. &nbsp;<br>
          <br>
    A few key properties can be set via command-line options, including the 
 host and port settings, and an override of the default properties file.<br>
          </font></td>
     </tr>
      <tr nosave="">
     <td valign="top" nosave=""><b>Using the Script</b></td>
      <td valign="top" nosave=""><font size="-1">Usage.&nbsp;</font>    
                       
      <pre><font size="-1">% batch.pl [-prop=&lt;file&gt;] [-host=&lt;host&gt;] [-port=&lt;port&gt;] [-w=&lt;work_id&gt;]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [-n=&lt;new_value&gt;] [-f=&lt;action field&gt;]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -a={I,D,T,S,A,C,CF} -t={C,A,R,CS,CR} -s={t,f,i}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;name/id&gt; &lt;database&gt; &lt;authority&gt;<br><br>&nbsp;Options:<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;     -prop=&lt;file&gt;:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Name properties file&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Default is /d5/MEME/bin/meme.prop)<br>&nbsp;&nbsp;     -host=&lt;host&gt;:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Name of the machine where server is running&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Default is oa.nlm.nih.gov<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -port=&lt;port&gt;:&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; The port number that the server is listening on&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Default is 1526<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -w:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Specify a work_id<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -n:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Optional new value parameter (for T,S actions)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -f:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;Optional action field parameter (for CF actions)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -a:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The action to perform (one of I,D,T,S,A,C,CF,CA)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -t:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The core data type (one of C,R,A,CS,CR)<br></font><font
 size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -i:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    The source of the ids, either a table (t), a file (f),<br>                            or a raw comma-separated list of ids (i)</font><font
 size="-1"><br></font><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -v[ersion]:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Print version information.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -[-]help:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; On-line help<br><br>&nbsp;Arguments:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; table_name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; A table name if -s=t, a file name if -s=f,<br>                            or a comma-separated list of ids if -s=i<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; database:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The database<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; authority:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; The authority</font></pre>
     <font size="-1">In it simplest form, all that you have to do is call 
the   script and pass it an action flag (-a), a type flag (-t), a source flag
(-s), a table name containing  data to drive the action, a database (or mid
service name), and an authority.&nbsp;  For example,</font>             
               
      <pre><font size="-1">% batch.pl -a=D -t=C -s=t t_12345_atoms_todelete editing-db L-BAC</font></pre>
                                 
      <p><font size="-1">If the application server is running on a machine
  or listening on the port other than the default (specified by the <tt>midsvcs.pl</tt> 
  services <tt>meme-server-host</tt> and <tt>meme-server-port</tt>) , you 
will need to invoke <tt>batch.pl</tt> with the <tt>-host</tt> and <tt>-port</tt> 
  switches.&nbsp; For example,</font> </p>
                               
      <pre><font size="-1">% batch.pl -host oa.nlm.nih.gov -port 8081 -a=D -t=C -s=t t_12345_atoms_todelete editing-db L-BAC</font></pre>
     <font size="-1">The whole range of actions is supported, including:
      <i>insert</i>,         <i>delete</i>, <i>change status</i>, <i>change
tobereleased</i>, <i>change   atom id</i>, <i>change concept id</i>, <i>change
field</i>, and <i>approve   concept</i>. &nbsp;For all actions, the driving
table must have a </font><font size="-1"><tt>row_id</tt> field. &nbsp;For
      <i>change atom id </i>and <i>change   concept id</i> the table must
also have an integer </font><font size="-1"><tt>new_value</tt> field. &nbsp;For
      <i>change field</i> the table   must have a character </font><font
 size="-1"><tt>new_value</tt> field and   the action field flag must be passed.
&nbsp;For <i>change status </i>and<i>   change tobereleased</i> the new value
field must be passed.</font><br>
    &nbsp;</td>
     </tr>
                   
  </tbody>    
</table>
    </center>
          
<p> </p>
       
<hr width="100%">     
<table border="0" cols="2" width="100%" nosave="">
     <tbody>
        <tr nosave="">
     <td align="left" valign="top" nosave="">                           
 
      <address> <a href="/MEME/">MEME Home</a></address>
     </td>
      <td align="right" valign="top" nosave="">                         
   
      <address> <font size="-1">Contact: <a
 href="mailto:bcarlsen@apelon.com">Brian Carlsen</a></font></address>
                                  
      <address> <font size="-1">Created: 8/22/2000</font></address>
                                  
      <address> <font size="-1">Last Updated: 10/07/2003</font></address>
     </td>
     </tr>
                 
  </tbody>    
</table>
<!-- These comments are used by the What's new Generator --><!-- Changed On: 2002/10/07 --><!-- Changed by: BAC --><!-- Change Note: MEME4 Applications - Running Client Applications. --><!-- Fresh for: 1 month --> 
                <br>
     <br>
  <br>
 
</body>
</html>
