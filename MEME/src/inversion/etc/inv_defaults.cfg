
#
# ==== Required Elements [edit these] ====
#
VSAB = NONE
RSAB = NONE
TEMPDIR = ../tmp
SRCDIR = ../src
ETCDIR = ../etc

# added by NH for srcAdaptor on 1/23/09
NEWSRCDIR = ../nsrc

#
# Log Properties
#
LogFile = invert_<VSAB>.log
LogMode = Append
LogLvl = ERROR
AssociationLvl = 0

#
# SRC Builder Properties
#
MakeRoot = 0
MakeTrans = 0

#
# Root node properties
#
HC.RootNodeCode = 
HC.RootNodeSaid = 
HC.RootNodeName = 
# added by NH for srcAdaptor on 1/23/09
HC.RootNodeType = SAID^PC
HC.RootNodePk = 
HC.RootNodeLang = ENG
HC.RootNodeSCUI = 
HC.RootNodeSDUI = 


File.TINS.StyTermIds = <ETCDIR>/GN_tins_sty_term_ids
File.EDIT.StyTermIds =

STY.TINS.sty_term_ids =
SaidStart = 1

#
# ==== File Paths ====
#
File.Atom = <SRCDIR>/classes_atoms.src
File.Attribute = <SRCDIR>/attributes.src
File.Merge = <SRCDIR>/mergefacts.src
File.Relation = <SRCDIR>/relationships.src
File.Source = <SRCDIR>/sources.src
File.Termgroup = <SRCDIR>/termgroups.src
File.Context = <SRCDIR>/contexts.src
File.Doc = <SRCDIR>/MRDOC.RRF


# added by NH for srcAdaptor on 1/23/09 (this whole section)
#
# ==== File Paths for the new SRC files ====
#
#  Meta
NFile.Source = <NEWSRCDIR>/sources.nsrc
NFile.SabTty = <NEWSRCDIR>/sabTty.nsrc
NFile.SabAtn = <NEWSRCDIR>/sabAtn.nsrc
NFile.SabRelRela = <NEWSRCDIR>/sabRelRela.nsrc
NFile.Doc = <NEWSRCDIR>/doc.nsrc

# Content
NFile.Atom = <NEWSRCDIR>/atoms.nsrc
NFile.Attribute = <NEWSRCDIR>/attributes.nsrc
NFile.Relation = <NEWSRCDIR>/relationships.nsrc
NFile.TreePos = <NEWSRCDIR>/treePos.nsrc
NFile.ParChld = <NEWSRCDIR>/parChld.nsrc
NFile.Sty =  <NEWSRCDIR>/sty.nsrc
#??NFile.AtomClusters = <NEWSRCDIR>/atomClusters.nsrc
#??NFile.MetaConcepts = <NEWSRCDIR>/metaConcepts.nsrc

# Subsets
NFile.Subsets = <NEWSRCDIR>/subsets.nsrc
NFile.SubsetMembers = <NEWSRCDIR>/subsetMembers.nsrc
NFile.SubsetAttributes = <NEWSRCDIR>/subsetAttributes.nsrc
NFile.SubsetMemberAttributes = <NEWSRCDIR>/subsetMemberAttributes.nsrc

# Valuesets
NFile.Valuesets = <NEWSRCDIR>/valuesets.nsrc
NFile.ValuesetMembers = <NEWSRCDIR>/valuesetMembers.nsrc
NFile.ValuesetAttributes = <NEWSRCDIR>/valuesetAttributes.nsrc
NFile.ValuesetMemberAttributes = <NEWSRCDIR>/valuesetMemberAttributes.nsrc

# Mapsets
NFile.Mapsets = <NEWSRCDIR>/mapsets.nsrc
NFile.MapsetAttributes = <NEWSRCDIR>/mapsetAttributes.nsrc
NFile.Mappings = <NEWSRCDIR>/mappings.nsrc
NFile.MapObjects = <NEWSRCDIR>/mapObjects.nsrc

# History
NFile.History = <NEWSRCDIR>/history.nsrc

# Coc
NFile.Coc = <NEWSRCDIR>/coc.nsrc
NFile.CitationHeadings = <NEWSRCDIR>/citationHeadings.nsrc
NFile.citationSubHeadings = <NEWSRCDIR>/citationSubHeadings.nsrc



#
# ==== Inversion Specific Properties ====
#
# 
# added by NH for srcAdaptor on 1/23/09
# while converting old src files, this following file contains any
# auis referenced in these files but are defined previously. Example, 
# RXN src files refer to SCT auis.
File.ExtAui2Pk = 


#
# ==== Atom Properties ====
#

#
# Atom Order (soon to be deprecated)
#
AtomOrder.Type = Natural
AtomOrder.Begin = 1000
AtomOrder.Increment = 100


#
# Default Atom Template
#
Atom.Defaults.srcAtomId = 
Atom.Defaults.vsab = <VSAB>
Atom.Defaults.tty = 
Atom.Defaults.code = 
Atom.Defaults.status = N
Atom.Defaults.tbr = Y
Atom.Defaults.released = N
Atom.Defaults.str = 
Atom.Defaults.suppress = N
Atom.Defaults.saui = 
Atom.Defaults.scui = 
Atom.Defaults.sdui = 
Atom.Defaults.lat = ENG
Atom.Defaults.orderId = 
Atom.Defaults.lastReleaseCui = 


#
# ==== Attribute Properties ====
#

#
# Default Attribute Template
#
Attribute.Defaults.srcAttrId = 
Attribute.Defaults.sgId = 
Attribute.Defaults.lvl = S
Attribute.Defaults.atn = 
Attribute.Defaults.atv = 
Attribute.Defaults.vsab = <VSAB>
Attribute.Defaults.status = R
Attribute.Defaults.tbr = Y
Attribute.Defaults.released = N
Attribute.Defaults.suppress = N
Attribute.Defaults.sgType = SRC_ATOM_ID
Attribute.Defaults.sgQual = 
Attribute.Defaults.satui = 


#
# ==== Relationship Properties ====
#

#
# Default Relationship Template
#
Relation.Defaults.srcRelId = 
Relation.Defaults.lvl = S
Relation.Defaults.sgId1 = 
Relation.Defaults.rel = 
Relation.Defaults.rela = 
Relation.Defaults.sgId2 = 
Relation.Defaults.vsab = <VSAB>
Relation.Defaults.sl = <VSAB>
Relation.Defaults.status = R
Relation.Defaults.tbr = Y
Relation.Defaults.released = N
Relation.Defaults.suppress = N
Relation.Defaults.sgType1 = SRC_ATOM_ID
Relation.Defaults.sgQual1 = 
Relation.Defaults.sgType2 = SRC_ATOM_ID
Relation.Defaults.sgQual2 = 
Relation.Defaults.srui = 
Relation.Defaults.relGroup = 


#
# ==== Context Properties ====
#

#
# Default Context Template
#
Context.Defaults.srcAtomId1 = 
Context.Defaults.rel = PAR
Context.Defaults.rela = 
Context.Defaults.srcAtomId2 = 
Context.Defaults.vsab = <VSAB>
Context.Defaults.sl = <VSAB>
Context.Defaults.hcd = 
Context.Defaults.ptr = 
Context.Defaults.releaseMode = 11
Context.Defaults.srui = 
Context.Defaults.relGroup = 
Context.Defaults.sgId1 = 
Context.Defaults.sgType1 = SRC_ATOM_ID
Context.Defaults.sgQual1 = 
Context.Defaults.sgId2 = 
Context.Defaults.sgType2 = SRC_ATOM_ID
Context.Defaults.sgQual2 = 


#
# ==== Merge Fact Properties ====
#

#
# Default Merge Fact Template
#
Merge.Defaults.sgId1 = 
Merge.Defaults.lvl = SY
Merge.Defaults.sgId2 = 
Merge.Defaults.vsab = <VSAB>
Merge.Defaults.iv = 
Merge.Defaults.demote = N
Merge.Defaults.changeStatus = N
Merge.Defaults.mergeSet = 
Merge.Defaults.sgType1 = SRC_ATOM_ID
Merge.Defaults.sgQual1 = 
Merge.Defaults.sgType2 = SRC_ATOM_ID
Merge.Defaults.sgQual2 = 


#
# ==== QA Properties ====
#

# 
# SRC Diff Properties
#
ADir = ../lmsrc
BDir = <SRCDIR>
OutDir = <TEMPDIR>
IdMap = <TEMPDIR>/IdMap.out
QaDir = ../etc/qa
inclAtoms =
inclAttrs =
exclAttrs.0 = CONTEXT
exclAttrs.1 = COPYRIGHT
Which = 31

#
# QA Report Properties/Templates
#
ofReport = <ETCDIR>/qa/QaReport-<VSAB>.txt



## Doc Monitors BEGIN #####################################################
#
#      Doc Field Monitors
#      ------------------
#
FieldMon.Doc.1.name = DOCKEY
FieldMon.Doc.1.fieldNum = 1
FieldMon.Doc.1.minLimit = 3
FieldMon.Doc.1.maxLimit = 4
FieldMon.Doc.1.nullable = 0
FieldMon.Doc.1.unique = 0
FieldMon.Doc.1.valPat = ^(ATN|REL|RELA|TTY)$
FieldMon.Doc.1.invPat =
FieldMon.Doc.1.charTally = 0
FieldMon.Doc.1.tally = 0
FieldMon.Doc.1.utf8 = 0
FieldMon.Doc.1.type = error

FieldMon.Doc.2.name = VALUE
FieldMon.Doc.2.fieldNum = 2
FieldMon.Doc.2.minLimit = 0
FieldMon.Doc.2.maxLimit = 100
FieldMon.Doc.2.nullable = 1
FieldMon.Doc.2.unique = 0
FieldMon.Doc.2.valPat = ^[A-Za-z][A-Za-z0-9\\_\\-\\.]*$
FieldMon.Doc.2.invPat =
FieldMon.Doc.2.charTally = 0
FieldMon.Doc.2.tally = 0
FieldMon.Doc.2.utf8 = 0
FieldMon.Doc.2.type = error

FieldMon.Doc.3.name = TYPE
FieldMon.Doc.3.fieldNum = 3
FieldMon.Doc.3.minLimit = 9
FieldMon.Doc.3.maxLimit = 13
FieldMon.Doc.3.nullable = 0
FieldMon.Doc.3.unique = 0
FieldMon.Doc.3.valPat = ^(rel_inverse|rela_inverse|expanded_form|tty_class)$
FieldMon.Doc.3.invPat =
FieldMon.Doc.3.charTally = 0
FieldMon.Doc.3.tally = 0
FieldMon.Doc.3.utf8 = 0
FieldMon.Doc.3.type = error

FieldMon.Doc.4.name = EXPL
FieldMon.Doc.4.fieldNum = 4
FieldMon.Doc.4.minLimit = 0
FieldMon.Doc.4.maxLimit = 1000
FieldMon.Doc.4.nullable = 1
FieldMon.Doc.4.unique = 0
FieldMon.Doc.4.valPat = 
FieldMon.Doc.4.invPat = ^\\s|\\s\\s|\\s$
FieldMon.Doc.4.charTally = 0
FieldMon.Doc.4.tally = 0
FieldMon.Doc.4.utf8 = 0
FieldMon.Doc.4.type = error

#
#      Doc Line Monitors
#      -----------------
#
#      Doc Definitions
#      ---------------
#
TTYEXPLS = abbreviation|attribute|entry_term|expanded|hierarchical|\
	obsolete|other|preferred|synonym
#
#      Doc Inline LineMons
#      ---------------
#
IlLineMon.Doc.0.fieldCt = 4
IlLineMon.Doc.0.type = info
IlLineMon.Doc.0.enable = 1


# SELECT * FROM mrdoc
#   WHERE VALUE IS NULL
#     AND (DOCKEY != 'RELA' 
#          OR NOT (EXPL IS NULL AND TYPE = 'rela_inverse')
#          OR NOT (TYPE = 'expanded_form' 
#                  AND EXPL = 'Empty relationship attribute');
#
#LineMon.Doc.1.name = Disallowed null VALUE
#LineMon.Doc.1.msg  = InvNullVals
#LineMon.Doc.1.tally = "@_[1]|@_[2]|@_[3]|@_[4]"
#LineMon.Doc.1.query = (@_[2] eq '' \
#                       && (@_[1] NE 'RELA' \
#	                    || @_[4] ne '' \
#                           || @_[3] ne 'rela_inverse' \
#                           || @_[3] ne 'expanded_form' \
#                           || @_[4] ne 'Empty relationship attribute'))
IlLineMon.Doc.1.type = error
IlLineMon.Doc.1.enable = 1


# SELECT * FROM mrdoc
#   WHERE TYPE = 'tty_class'
#     AND EXPL NOT IN ('abbreviation','attribute','entry_term','expanded',
#                      'hierarchical','obsolete','other','preferred',
#                      'synonym');
#
#LineMon.Doc.2.name = Invalid tty_class
#LineMon.Doc.2.msg  = InvTtyClass
#LineMon.Doc.2.tally = "@_[1]|@_[2]|@_[3]|@_[4]"
#LineMon.Doc.2.query = @_[3] eq 'tty_class' && @_[4] !~ /^(<TTYEXPLS>)$/
IlLineMon.Doc.2.type = error
IlLineMon.Doc.2.enable = 1


# SELECT * FROM mrdoc
#   WHERE (TYPE = 'tty_class' AND DOCKEY != 'TTY')
#      OR (TYPE = 'rela_inverse' AND DOCKEY != 'RELA');
#
#LineMon.Doc.3.name = Invalid TYPE for DOCKEY
#LineMon.Doc.3.msg  = InvKeyType
#LineMon.Doc.3.tally = "@_[1]|@_[2]|@_[3]|@_[4]"
#LineMon.Doc.3.query = (@_[3] eq 'tty_class' && @_[1] ne 'TTY') || \
#	(@_[3] eq 'rela_inverse' && @_[1] ne 'RELA')
IlLineMon.Doc.3.type = error
IlLineMon.Doc.3.enable = 1


# SELECT DOCKEY, EXPL FROM mrdoc
#   GROUP BY DOCKEY,EXPL
#   HAVING COUNT(*) >1;
#
#LineMon.Doc.4.name = Duplicate DOCKEY,EXPL
#LineMon.Doc.4.msg  = DupKeyExpl
#LineMon.Doc.4.tally = "@_[1]|@_[4]"
#LineMon.Doc.4.unique = 1
IlLineMon.Doc.4.type = error
IlLineMon.Doc.4.enable = 1


#      Doc Custom LineMons
#      ---------------
# NONE

#
#      Doc File Monitors
#      -----------------
#

# SELECT VALUE FROM MRDOC
#   WHERE DOCKEY = 'RELA'
#     AND TYPE = 'expanded_form'
#     AND VALUE NOT IN (SELECT VALUE FROM MRDOC
#                         WHERE DOCKEY = 'RELA'
#                           AND TYPE = 'rela_inverse')
#
#FileMon.Doc.1.name = RELA expanded_form Without rela_inverse
#FileMon.Doc.1.type = error



# SELECT EXPL FROM MRDOC
#   WHERE DOCKEY = 'RELA'
#      AND TYPE = 'rela_inverse'
#      AND VALUE NOT IN (SELECT VALUE FROM MRDOC
#                          WHERE DOCKEY = 'RELA'
#                            AND TYPE = 'rela_inverse')
#
#FileMon.Doc.2.name = RELA rela_inverse Without rela_inverse
#FileMon.Doc.2.type = error



# SELECT VALUE FROM MRDOC
#   WHERE DOCKEY = 'RELA'
#     AND TYPE = 'rela_inverse'
#     AND VALUE NOT IN (SELECT VALUE FROM MRDOC
#                         WHERE DOCKEY = 'RELA'
#                           AND TYPE = 'expanded_form')
#
#FileMon.Doc.3.name = RELA rela_inverse Without expanded_form
#FileMon.Doc.3.type = error



# SELECT VALUE FROM MRDOC
#   WHERE DOCKEY = 'TTY'
#     AND TYPE = 'expanded_form'
#     AND VALUE NOT IN (SELECT VALUE FROM MRDOC
#                         WHERE DOCKEY = 'RELA'
#                           AND TYPE = 'tty_class')
#
#FileMon.Doc.4.name = TTY expanded_form Without tty_class
#FileMon.Doc.4.type = error



# SELECT VALUE FROM MRDOC
#   WHERE DOCKEY = 'TTY'
#     AND TYPE = 'tty_class'
#     AND VALUE NOT IN (SELECT VALUE FROM MRDOC
#                         WHERE DOCKEY = 'RELA'
#                           AND TYPE = 'expanded_form')
#
#FileMon.Doc.5.name = TTY tty_class Without expanded_form
#FileMon.Doc.5.type = error
#


#
#
## Doc Monitors END #####################################################



## Source Monitors BEGIN ################################################
#
#      Source Field Monitors
#      ---------------------

FieldMon.Source.1.name = VSAB
FieldMon.Source.1.fieldNum = 1
FieldMon.Source.1.minLimit = 3
FieldMon.Source.1.maxLimit = 40
FieldMon.Source.1.nullable = 0
FieldMon.Source.1.unique = 1
FieldMon.Source.1.valPat = ^[A-Z][A-Z0-9\\_\\-\\.]*$
FieldMon.Source.1.invPat =
FieldMon.Source.1.charTally = 0
FieldMon.Source.1.tally = 0
FieldMon.Source.1.utf8 = 0
FieldMon.Source.1.type = error

FieldMon.Source.2.name = LowVSAB
FieldMon.Source.2.fieldNum = 2
FieldMon.Source.2.minLimit = 3
FieldMon.Source.2.maxLimit = 40
FieldMon.Source.2.nullable = 0
FieldMon.Source.2.unique = 1
FieldMon.Source.2.valPat = ^[A-Z][A-Z0-9\\_\\-\\.]*$
FieldMon.Source.2.invPat =
FieldMon.Source.2.charTally = 0
FieldMon.Source.2.tally = 0
FieldMon.Source.2.utf8 = 0
FieldMon.Source.2.type = error

FieldMon.Source.3.name = SRL
FieldMon.Source.3.fieldNum = 3
FieldMon.Source.3.minLimit = 1
FieldMon.Source.3.maxLimit = 1
FieldMon.Source.3.nullable = 1
FieldMon.Source.3.unique = 0
FieldMon.Source.3.valPat = ^[0123459]$
FieldMon.Source.3.invPat =
FieldMon.Source.3.charTally = 0
FieldMon.Source.3.tally = 0
FieldMon.Source.3.utf8 = 0
FieldMon.Source.3.type = error

FieldMon.Source.4.name = NormalizedVSAB
FieldMon.Source.4.fieldNum = 4
FieldMon.Source.4.maxLimit = 40
FieldMon.Source.4.nullable = 0
FieldMon.Source.4.unique = 0
FieldMon.Source.4.valPat = ^[A-Z][A-Z0-9\\_\\-\\.]*$
FieldMon.Source.4.invPat =
FieldMon.Source.4.charTally = 0
FieldMon.Source.4.tally = 0
FieldMon.Source.4.utf8 = 0
FieldMon.Source.4.type = error

FieldMon.Source.5.name = RSAB
FieldMon.Source.5.fieldNum = 5
FieldMon.Source.5.minLimit = 3
FieldMon.Source.5.maxLimit = 25
FieldMon.Source.5.nullable = 0
FieldMon.Source.5.unique = 1
FieldMon.Source.5.valPat = ^[A-Z][A-Z0-9\\_\\-\\.]*$
FieldMon.Source.5.invPat =
FieldMon.Source.5.charTally = 0
FieldMon.Source.6.tally = 0
FieldMon.Source.5.utf8 = 0
FieldMon.Source.5.type = error

FieldMon.Source.6.name = SVER
FieldMon.Source.6.fieldNum = 6
FieldMon.Source.6.minLimit = 1
FieldMon.Source.6.maxLimit = 25
FieldMon.Source.6.nullable = 0
FieldMon.Source.6.unique = 0
FieldMon.Source.6.valPat = ^[A-Z\\d\\_\\-\\.]*$
FieldMon.Source.6.invPat =
FieldMon.Source.6.charTally = 0
FieldMon.Source.6.tally = 0
FieldMon.Source.6.utf8 = 0
FieldMon.Source.6.type = error

FieldMon.Source.7.name = SF
FieldMon.Source.7.fieldNum = 7
FieldMon.Source.7.minLimit = 1
FieldMon.Source.7.maxLimit = 20
FieldMon.Source.7.nullable = 0
FieldMon.Source.7.unique = 0
FieldMon.Source.7.valPat = ^[A-Z][A-Z0-9\\_\\-\\.]*$
FieldMon.Source.7.invPat =
FieldMon.Source.7.charTally = 0
FieldMon.Source.7.tally = 0
FieldMon.Source.7.utf8 = 0
FieldMon.Source.7.type = error

FieldMon.Source.8.name = SON
FieldMon.Source.8.fieldNum = 8
FieldMon.Source.8.minLimit = 3
FieldMon.Source.8.maxLimit = 3200
FieldMon.Source.8.nullable = 0
FieldMon.Source.8.unique = 0
FieldMon.Source.8.valPat = 
FieldMon.Source.8.invPat = ^\\s|\\s\\s|\\s$
FieldMon.Source.8.charTally = 0
FieldMon.Source.8.tally = 0
#FieldMon.Source.8.utf8 = 1
FieldMon.Source.8.utf8 = 0
FieldMon.Source.8.type = error

FieldMon.Source.9.name = NLMContact
FieldMon.Source.9.fieldNum = 9
FieldMon.Source.9.minLimit = 6
FieldMon.Source.9.maxLimit = 1000
FieldMon.Source.9.nullable = 0
FieldMon.Source.9.unique = 0
FieldMon.Source.9.valPat = ^.+\\@.+$
FieldMon.Source.9.invPat =
FieldMon.Source.9.charTally = 0
FieldMon.Source.9.tally = 0
#FieldMon.Source.9.utf8 = 1
FieldMon.Source.9.utf8 = 0
FieldMon.Source.9.type = error

FieldMon.Source.10.name = AcquisitionContact
FieldMon.Source.10.fieldNum = 10
FieldMon.Source.10.minLimit = 6
FieldMon.Source.10.maxLimit = 1000
FieldMon.Source.10.nullable = 0
FieldMon.Source.10.unique = 0
FieldMon.Source.10.valPat = ^.+$
FieldMon.Source.10.invPat =
FieldMon.Source.10.charTally = 0
FieldMon.Source.10.tally = 0
#FieldMon.Source.10.utf8 = 1
FieldMon.Source.10.utf8 = 0
FieldMon.Source.10.type = error

FieldMon.Source.11.name = SCC
FieldMon.Source.11.fieldNum = 11
FieldMon.Source.11.minLimit = 6
FieldMon.Source.11.maxLimit = 1000
FieldMon.Source.11.nullable = 0
FieldMon.Source.11.unique = 0
FieldMon.Source.11.valPat = ^.+$
FieldMon.Source.11.invPat =
FieldMon.Source.11.charTally = 0
FieldMon.Source.11.tally = 0
#FieldMon.Source.11.utf8 = 1
FieldMon.Source.11.utf8 = 0
FieldMon.Source.11.type = error

FieldMon.Source.12.name = SLC
FieldMon.Source.12.fieldNum = 12
FieldMon.Source.12.minLimit = 6
FieldMon.Source.12.maxLimit = 1000
FieldMon.Source.12.nullable = 0
FieldMon.Source.12.unique = 0
FieldMon.Source.12.valPat = ^.+\\@.+$
FieldMon.Source.12.invPat =
FieldMon.Source.12.charTally = 0
FieldMon.Source.12.tally = 0
#FieldMon.Source.12.utf8 = 1
FieldMon.Source.12.utf8 = 0
FieldMon.Source.12.type = error

FieldMon.Source.13.name = InverterContact
FieldMon.Source.13.fieldNum = 13
FieldMon.Source.13.minLimit = 6
FieldMon.Source.13.maxLimit = 1000
FieldMon.Source.13.nullable = 0
FieldMon.Source.13.unique = 0
FieldMon.Source.13.valPat = ^.+\\@.+$
FieldMon.Source.13.invPat =
FieldMon.Source.13.charTally = 0
FieldMon.Source.13.tally = 0
#FieldMon.Source.13.utf8 = 1
FieldMon.Source.13.utf8 = 0
FieldMon.Source.13.type = error

FieldMon.Source.14.name = CXTY
FieldMon.Source.14.fieldNum = 14
FieldMon.Source.14.minLimit = 0
FieldMon.Source.14.maxLimit = 19
FieldMon.Source.14.nullable = 1
FieldMon.Source.14.unique = 0
FieldMon.Source.14.valPat = ^(|FULL|TITLE|MINI|FULL-MULTIPLE|FULL-NOSIB|FULL-NOSIB-MULTIPLE|TITLE-MULTIPLE|MINI-MULTIPLE)$
FieldMon.Source.14.invPat =
FieldMon.Source.14.charTally = 0
FieldMon.Source.14.tally = 0
FieldMon.Source.14.utf8 = 0
FieldMon.Source.14.type = error

FieldMon.Source.15.name = URLs
FieldMon.Source.15.fieldNum = 15
FieldMon.Source.15.minLimit = 0
FieldMon.Source.15.maxLimit = 1000
FieldMon.Source.15.nullable = 1
FieldMon.Source.15.unique = 0
FieldMon.Source.15.valPat = 
FieldMon.Source.15.invPat = ^\\s|\\s\\s|\\s$
FieldMon.Source.15.charTally = 0
FieldMon.Source.15.tally = 0
FieldMon.Source.15.utf8 = 0
FieldMon.Source.15.type = error

FieldMon.Source.16.name = LAT
FieldMon.Source.16.fieldNum = 16
FieldMon.Source.16.minLimit = 0
FieldMon.Source.16.maxLimit = 3
FieldMon.Source.16.nullable = 1
FieldMon.Source.16.unique = 0
FieldMon.Source.16.valPat = ^(|BAQ|CZE|DAN|DUT|ENG|FIN|FRE|GER|HEB|HUN|ITA|JPN|NOR|POR|RUS|SPA|SWE)$
FieldMon.Source.16.invPat =
FieldMon.Source.16.charTally = 0
FieldMon.Source.16.tally = 0
FieldMon.Source.16.utf8 = 0
FieldMon.Source.16.type = error

FieldMon.Source.17.name = SCIT
FieldMon.Source.17.fieldNum = 17
FieldMon.Source.17.minLimit = 10
FieldMon.Source.17.maxLimit = 4000
FieldMon.Source.17.nullable = 0
FieldMon.Source.17.unique = 0
FieldMon.Source.17.valPat = 
FieldMon.Source.17.invPat = ^\\s|\\s\\s|\\s$
FieldMon.Source.17.charTally = 0
FieldMon.Source.17.tally = 0
#FieldMon.Source.17.utf8 = 1
FieldMon.Source.17.utf8 = 0
FieldMon.Source.17.type = error

FieldMon.Source.18.name = LicenseInfo
FieldMon.Source.18.fieldNum = 18
FieldMon.Source.18.minLimit = 0
FieldMon.Source.18.maxLimit = 4000
FieldMon.Source.18.nullable = 1
FieldMon.Source.18.unique = 0
FieldMon.Source.18.valPat = 
FieldMon.Source.18.invPat = ^\\s|\\s\\s|\\s$
FieldMon.Source.18.charTally = 0
FieldMon.Source.18.tally = 0
#FieldMon.Source.18.utf8 = 1
FieldMon.Source.18.utf8 = 0
FieldMon.Source.18.type = error

FieldMon.Source.19.name = CharSet
FieldMon.Source.19.fieldNum = 19
FieldMon.Source.19.minLimit = 5
FieldMon.Source.19.maxLimit = 5
FieldMon.Source.19.nullable = 0
FieldMon.Source.19.unique = 0
FieldMon.Source.19.valPat = ^UTF-8$
FieldMon.Source.19.invPat =
FieldMon.Source.19.charTally = 0
FieldMon.Source.19.tally = 0
FieldMon.Source.19.utf8 = 0
FieldMon.Source.19.type = error

FieldMon.Source.20.name = RELDIR
FieldMon.Source.20.fieldNum = 20
FieldMon.Source.20.minLimit = 0
FieldMon.Source.20.maxLimit = 1
FieldMon.Source.20.nullable = 1
FieldMon.Source.20.unique = 0
FieldMon.Source.20.valPat = ^(|Y)$
FieldMon.Source.20.invPat =
FieldMon.Source.20.charTally = 0
FieldMon.Source.20.tally = 0
FieldMon.Source.20.utf8 = 0
FieldMon.Source.20.type = error


#
#      Source Inline Line Monitors
#      --------------------
#

# SELECT VSAB,RSAB,SF FROM sources
#   WHERE RSAB = SF AND LAT != 'ENG';
#
#LineMon.Source.1.name = RSAB matches SF for non-English Source
#LineMon.Source.1.tally = @_[1]|@_[5]|@_[7]
#LineMon.Source.1.query = @_[5] eq @_[7] && @_[16] ne 'ENG'
#LineMon.Source.1.type = error
#InLineMon.Source.1.enable = 1


# SELECT VSAB, NormalizedRSAB
#   FROM sources
#   WHERE RSAB != NormalizedRSAB AND SF != MSH
#
#LineMon.Source.2.name = RSAB Does not Match NormalizedRSAB for \
#	non-MSH Source
#LineMon.Source.2.tally = "@_[1]|@_[4]"
#LineMon.Source.2.query = @_[7] ne 'MSH' && @_[4] ne @_[5]
#LineMon.Source.2.type = warning


#      Source Custom Line Monitors
#      --------------------

LineMon.Source.100.fieldCt = 20
LineMon.Source.100.type = error


LineMon.Source.101.name = VSAB,RSAB,LAT,SRL Tally
LineMon.Source.101.tally = "@_[1]|@_[5]|@_[16]|@_[3]"
LineMon.Source.101.type = info


#
#      Source File Monitors
#      --------------------
#


# SELECT VSAB FROM sources
#   WHERE VSAB NOT IN (SELECT VSAB FROM classes_atoms
#                      UNION
#                      SELECT VSAB FROM relationships
#                      UNION
#                      SELECT VSAB FROM contexts);
#
#FileMon.Source.1.name = VSAB not in Content Files
#FileMon.Source.1.type = error



# SELECT * FROM sources
#   WHERE NormalizedVSAB NOT IN (SELECT VSAB FROM sources);
#
#FileMon.Source.2.name = NormalizedVSAB not in VSAB List
#FileMon.Source.2.type = error



# SELECT VSAB,SON FROM sources
#   WHERE SON NOT IN (SELECT STR FROM classes_atoms
#                       WHERE Termgroup = 'SRC/VPT');
#
#FileMon.Source.3.name = Mismatched SON
#FileMon.Source.3.type = error



# SELECT VSAB,CXTY FROM sources
#   WHERE VSAB NOT IN (SELECT VSAB FROM contexts);
#
#FileMon.Source.4.name = CXTY Without Contexts
#FileMon.Source.4.type = error



# SELECT VSAB, LAT FROM sources
#   WHERE (VSAB,LAT) NOT IN (SELECT VSAB,LAT FROM classes_atoms);
#
#FileMon.Source.5.name = Mismatched LAT
#FileMon.Source.5.type = error



# SELECT VSAB, RELDIR FROM sources
#   WHERE VSAB NOT IN (SELECT VSAB FROM relationships
#                      UNION
#                      SELECT VSAB FROM contexts);
#
#FileMon.Source.6.name = RELDIR Without Relationships
#FileMon.Source.6.type = error



# SELECT VSAB,RSAB,SL FROM sources
#   WHERE VSAB NOT IN (SELECT VSAB FROM relationships
#                      UNION
#                      SELECT VSAB FROM contexts);
#
#FileMon.Source.7.name = RSAB matches SL for non-English Source
#FileMon.Source.7.type = error



# SELECT VSAB FROM sources
#   WHERE VSAB NOT IN (SELECT STR FROM classes
#                        WHERE Termgroup = 'SRC/VAB');
#
#FileMon.Source.8.name = VSAB without SRC/VAB Atom
#FileMon.Source.8.type = error
#

#
#
## Source Monitors END #################################################



## Termgroup Monitors BEGIN ############################################
#
#      Termgroup Field Monitors
#      ------------------------
#


FieldMon.Termgroup.1.name = Termgroup
FieldMon.Termgroup.1.fieldNum = 1
FieldMon.Termgroup.1.minLimit = 6
FieldMon.Termgroup.1.maxLimit = 40
FieldMon.Termgroup.1.nullable = 0
FieldMon.Termgroup.1.unique = 1
FieldMon.Termgroup.1.valPat = ^[A-Z][A-Z0-9\\_\\-\\.]*\\/[A-Za-z0-9\\_\\-]+$
FieldMon.Termgroup.1.invPat =
FieldMon.Termgroup.1.charTally = 
FieldMon.Termgroup.1.tally = 
FieldMon.Termgroup.1.utf8 = 0
FieldMon.Termgroup.1.type = error

FieldMon.Termgroup.2.name = LowTermgroup
FieldMon.Termgroup.2.fieldNum = 2
FieldMon.Termgroup.2.minLimit = 6
FieldMon.Termgroup.2.maxLimit = 40
FieldMon.Termgroup.2.nullable = 0
#FieldMon.Termgroup.2.unique = 1
FieldMon.Termgroup.2.unique = 0
FieldMon.Termgroup.2.valPat = ^[A-Z][A-Z0-9\\_\\-\\.]*\\/[A-Za-z0-9\\_\\-]+$
FieldMon.Termgroup.2.invPat =
FieldMon.Termgroup.2.charTally = 0
FieldMon.Termgroup.2.tally = 0
FieldMon.Termgroup.2.utf8 = 0
FieldMon.Termgroup.2.type = error

FieldMon.Termgroup.3.name = SUPPRESS
FieldMon.Termgroup.3.fieldNum = 3
FieldMon.Termgroup.3.minLimit = 1
FieldMon.Termgroup.3.maxLimit = 1
FieldMon.Termgroup.3.nullable = 0
FieldMon.Termgroup.3.unique = 0
FieldMon.Termgroup.3.valPat = ^[YN]$
FieldMon.Termgroup.3.invPat =
FieldMon.Termgroup.3.charTally = 0
FieldMon.Termgroup.3.tally = 0
FieldMon.Termgroup.3.utf8 = 0
FieldMon.Termgroup.3.type = error

FieldMon.Termgroup.4.name = ExcludeFlag
FieldMon.Termgroup.4.fieldNum = 4
FieldMon.Termgroup.4.minLimit = 1
FieldMon.Termgroup.4.maxLimit = 1
FieldMon.Termgroup.4.nullable = 0
FieldMon.Termgroup.4.unique = 0
FieldMon.Termgroup.4.valPat = ^[YN]$
FieldMon.Termgroup.4.invPat =
FieldMon.Termgroup.4.charTally = 0
FieldMon.Termgroup.4.tally = 0
FieldMon.Termgroup.4.utf8 = 0
FieldMon.Termgroup.4.type = error

FieldMon.Termgroup.5.name = NormExcludeFlag
FieldMon.Termgroup.5.fieldNum = 5
FieldMon.Termgroup.5.minLimit = 1
FieldMon.Termgroup.5.maxLimit = 1
FieldMon.Termgroup.5.nullable = 0
FieldMon.Termgroup.5.unique = 0
FieldMon.Termgroup.5.valPat = ^[YN]$
FieldMon.Termgroup.5.invPat =
FieldMon.Termgroup.5.charTally = 0
FieldMon.Termgroup.5.tally = 0
FieldMon.Termgroup.5.utf8 = 0
FieldMon.Termgroup.5.type = error

FieldMon.Termgroup.6.name = TTY
FieldMon.Termgroup.6.fieldNum = 6
FieldMon.Termgroup.6.minLimit = 2
FieldMon.Termgroup.6.maxLimit = 20
FieldMon.Termgroup.6.nullable = 0
FieldMon.Termgroup.6.unique = 0
#FieldMon.Termgroup.6.valPat = ^[A-Z\\_\\-]$
FieldMon.Termgroup.6.valPat = ^[A-Z\\_\\-]*$
FieldMon.Termgroup.6.invPat =
FieldMon.Termgroup.6.charTally = 0
FieldMon.Termgroup.6.tally = 0
FieldMon.Termgroup.6.utf8 = 0
FieldMon.Termgroup.6.type = error


#
#      Termgroup Inline Line Monitors
#      ------------------------------
#

IlLineMon.Termgroup.0.fieldCt = 6
IlLineMon.Termgroup.0.type = error


# IMPLEMENTED IN THE CODE.
# SELECT Termgroup, TTY 
#   FROM termgroups 
#   WHERE SUBSTR(Termgroup,INSTR(Termgroup,'/')+1) =~ TTY;
#
IlLine.LineMon.Termgroup.1.enable = 1
#LineMon.Termgroup.1.name = Termgroup Does Not Match TTY
#LineMon.Termgroup.1.msg  = TgTtyMismath
#LineMon.Termgroup.1.tally = "@_[1]|@_[6]"
#LineMon.Termgroup.1.query = @_[1] !~ /@_[6]$/
IlLineMon.Termgroup.1.type = error
IlLineMon.Termgroup.1.enable = 1


#
#      Termgroup Custom Line Monitors
#      ------------------------------
#

#
#      Termgroup File Monitors
# SELECT Termgroup FROM termgroups
#   WHERE Termgroup NOT IN (SELECT Termgroup FROM classes_atoms);
#
#FileMon.Termgroup.1.name = Termgroup not in Classes
#FileMon.Termgroup.1.type = error



# SELECT Termgroup, SUPPRESS
#   FROM termgroups a, mrdoc b
#   WHERE DOCKEY='TTY'
#     AND TTY = VALUE
#     AND TYPE = 'tty_class'
#     AND EXPL = 'obsolete'
#     AND SUPPRESS != 'Y';
#
#FileMon.Termgroup.2.name = Non-suppressed Obsolete TTY
#FileMon.Termgroup.2.type = error


#
#
## Termgroup Monitors END ##################################################



## Atom Monitors BEGIN ####################################################
#
#      Atom Field Monitors
#      -------------------
#


FieldMon.Atom.1.name = SrcAtomId
FieldMon.Atom.1.fieldNum = 1
FieldMon.Atom.1.minLimit = 9
FieldMon.Atom.1.maxLimit = 9
FieldMon.Atom.1.nullable = 0
FieldMon.Atom.1.unique = 1
FieldMon.Atom.1.valPat = ^[\\d]*$
FieldMon.Atom.1.invPat =
FieldMon.Atom.1.charTally = 0
FieldMon.Atom.1.tally = 0
FieldMon.Atom.1.utf8 = 0
FieldMon.Atom.1.type = error

FieldMon.Atom.2.name = VSAB
FieldMon.Atom.2.fieldNum = 2
FieldMon.Atom.2.minLimit = 3
FieldMon.Atom.2.maxLimit = 40
FieldMon.Atom.2.nullable = 0
FieldMon.Atom.2.unique = 0
FieldMon.Atom.2.valPat = ^[A-Z][A-Z0-9_\\-\\.]*$
FieldMon.Atom.2.invPat =
FieldMon.Atom.2.charTally = 1
FieldMon.Atom.2.tally = 1
FieldMon.Atom.2.utf8 = 0
FieldMon.Atom.2.type = error

FieldMon.Atom.3.name = Termgroup
FieldMon.Atom.3.fieldNum = 3
FieldMon.Atom.3.minLimit = 6
FieldMon.Atom.3.maxLimit = 41
FieldMon.Atom.3.nullable = 0
FieldMon.Atom.3.unique = 0
FieldMon.Atom.3.valPat = ^[A-Z][A-Z0-9\\_\\-\\.]*\\/[A-Za-z0-9\\_\\-]+$
FieldMon.Atom.3.invPat =
FieldMon.Atom.3.charTally = 1
FieldMon.Atom.3.tally = 1
FieldMon.Atom.3.utf8 = 0
FieldMon.Atom.3.type = error

FieldMon.Atom.4.name = CODE
FieldMon.Atom.4.fieldNum = 4
FieldMon.Atom.4.minLimit = 1
FieldMon.Atom.4.maxLimit = 50
FieldMon.Atom.4.nullable = 0
FieldMon.Atom.4.unique = 0
FieldMon.Atom.4.valPat =
#FieldMon.Atom.4.invPat = ^U|^\\s|\\s\\s|\\s$
FieldMon.Atom.4.invPat = 
FieldMon.Atom.4.charTally = 0
FieldMon.Atom.4.tally = 0
FieldMon.Atom.4.utf8 = 0
FieldMon.Atom.4.type = error

FieldMon.Atom.5.name = Status
FieldMon.Atom.5.fieldNum = 5
FieldMon.Atom.5.minLimit = 1
FieldMon.Atom.5.maxLimit = 1
FieldMon.Atom.5.nullable = 0
FieldMon.Atom.5.unique = 0
FieldMon.Atom.5.valPat = ^[RN]$
FieldMon.Atom.5.invPat =
FieldMon.Atom.5.charTally = 0
FieldMon.Atom.5.tally = 0
FieldMon.Atom.5.utf8 = 0
FieldMon.Atom.5.type = error

FieldMon.Atom.6.name = Tbr
FieldMon.Atom.6.fieldNum = 6
FieldMon.Atom.6.minLimit = 1
FieldMon.Atom.6.maxLimit = 1
FieldMon.Atom.6.nullable = 0
FieldMon.Atom.6.unique = 0
FieldMon.Atom.6.valPat = ^[YynN]$
FieldMon.Atom.6.invPat =
FieldMon.Atom.6.charTally = 0
FieldMon.Atom.6.tally = 0
FieldMon.Atom.6.utf8 = 0
FieldMon.Atom.6.type = error

FieldMon.Atom.7.name = Released
FieldMon.Atom.7.fieldNum = 7
FieldMon.Atom.7.minLimit = 1
FieldMon.Atom.7.maxLimit = 1
FieldMon.Atom.7.nullable = 0
FieldMon.Atom.7.unique = 0
FieldMon.Atom.7.valPat = ^[N]$
FieldMon.Atom.7.invPat =
FieldMon.Atom.7.charTally = 0
FieldMon.Atom.7.tally = 0
FieldMon.Atom.7.utf8 = 0
FieldMon.Atom.7.type = error

FieldMon.Atom.8.name = STR
FieldMon.Atom.8.fieldNum = 8
FieldMon.Atom.8.minLimit = 1
FieldMon.Atom.8.maxLimit = 4000
FieldMon.Atom.8.nullable = 0
FieldMon.Atom.8.unique = 0
FieldMon.Atom.8.valPat =
FieldMon.Atom.8.invPat = ^\\s|\\s\\s|\\s$
FieldMon.Atom.8.charTally = 1
FieldMon.Atom.8.tally = 0
FieldMon.Atom.8.utf8 = 1
FieldMon.Atom.8.type = error

FieldMon.Atom.9.fieldNum = 9
FieldMon.Atom.9.name = SUPPRESS
FieldMon.Atom.9.minLimit = 1
FieldMon.Atom.9.maxLimit = 1
FieldMon.Atom.9.nullable = 0
FieldMon.Atom.9.unique = 0
FieldMon.Atom.9.valPat = ^[OYN]$
FieldMon.Atom.9.invPat =
FieldMon.Atom.9.charTally = 0
FieldMon.Atom.9.tally = 0
FieldMon.Atom.9.utf8 = 0
FieldMon.Atom.9.type = error

FieldMon.Atom.10.name = SAUI
FieldMon.Atom.10.fieldNum = 10
FieldMon.Atom.10.minLimit = 0
FieldMon.Atom.10.maxLimit = 50
FieldMon.Atom.10.nullable = 1
FieldMon.Atom.10.unique = 0
FieldMon.Atom.10.valPat =
FieldMon.Atom.10.invPat = ^\\s|\\s\\s|\\s$
FieldMon.Atom.10.charTally = 0
FieldMon.Atom.10.tally = 0
FieldMon.Atom.10.utf8 = 0
FieldMon.Atom.10.type = error

FieldMon.Atom.11.name = SCUI
FieldMon.Atom.11.fieldNum = 11
FieldMon.Atom.11.minLimit = 0
FieldMon.Atom.11.maxLimit = 50
FieldMon.Atom.11.nullable = 1
FieldMon.Atom.11.unique = 0
FieldMon.Atom.11.valPat =
FieldMon.Atom.11.invPat = ^\\s|\\s\\s|\\s$
FieldMon.Atom.11.charTally = 0
FieldMon.Atom.11.tally = 0
FieldMon.Atom.11.utf8 = 0
FieldMon.Atom.11.type = error

FieldMon.Atom.12.name = SDUI
FieldMon.Atom.12.fieldNum = 12
FieldMon.Atom.12.minLimit = 0
FieldMon.Atom.12.maxLimit = 50
FieldMon.Atom.12.nullable = 1
FieldMon.Atom.12.unique = 0
FieldMon.Atom.12.valPat =
FieldMon.Atom.12.invPat = ^\\s|\\s\\s|\\s$
FieldMon.Atom.12.charTally = 0
FieldMon.Atom.12.tally = 0
FieldMon.Atom.12.utf8 = 0
FieldMon.Atom.12.type = error

FieldMon.Atom.13.name = LAT
FieldMon.Atom.13.fieldNum = 13
FieldMon.Atom.13.minLimit = 3
FieldMon.Atom.13.maxLimit = 3
FieldMon.Atom.13.nullable = 0
FieldMon.Atom.13.unique = 0
FieldMon.Atom.13.valPat = ^(BAQ|CZE|DAN|DUT|ENG|FIN|FRE|GER|HEB|HUN|ITA|JPN|NOR|POR|RUS|SPA|SWE|ENG|POL)$
FieldMon.Atom.13.invPat =
FieldMon.Atom.13.charTally = 0
FieldMon.Atom.13.tally = 0
FieldMon.Atom.13.utf8 = 0
FieldMon.Atom.13.type = error

FieldMon.Atom.14.name = OrderId
FieldMon.Atom.14.fieldNum = 14
FieldMon.Atom.14.minLimit = 1
FieldMon.Atom.14.maxLimit = 10
FieldMon.Atom.14.nullable = 0
FieldMon.Atom.14.unique = 0
FieldMon.Atom.14.valPat = ^\\d*$
FieldMon.Atom.14.invPat =
FieldMon.Atom.14.charTally = 0
FieldMon.Atom.14.tally = 0
FieldMon.Atom.14.utf8 = 0
FieldMon.Atom.14.type = error

#
# always null
#
FieldMon.Atom.15.name = LastReleaseCui
FieldMon.Atom.15.fieldNum = 15
FieldMon.Atom.15.minLimit = 0
FieldMon.Atom.15.maxLimit = 0
FieldMon.Atom.15.nullable = 1
FieldMon.Atom.15.unique = 0
FieldMon.Atom.15.valPat =
FieldMon.Atom.15.invPat = .
FieldMon.Atom.15.charTally = 0
FieldMon.Atom.15.tally = 0
FieldMon.Atom.15.utf8 = 0
FieldMon.Atom.15.type = error


#
#      Atom Inline Line Monitors
#      -------------------------
#


IlLineMon.Atom.0.fieldCt = 14
IlLineMon.Atom.0.type = error
IlLineMon.Atom.0.enable = 1



# SELECT count(*) FROM (SELECT STR 
#                         FROM classes_atoms 
#                         GROUP BY STR 
#                         HAVING count(*)>1);
#
#LineMon.Atom.1.name = Count Duplicate Case-sensitive Strings
#LineMon.Atom.1.msg  = DplctCSSStrings
#LInemon.Atom.1.tally = "@_[8]"
#LineMon.Atom.1.unique = 1
IlLineMon.Atom.1.type = info
IlLineMon.Atom.1.enable = 1



# SELECT count(*) FROM (SELECT lower(STR) STR 
#                         FROM classes_atoms 
#                         GROUP BY lower(STR)
#                         HAVING count(*)>1);
#
#LineMon.Atom.2.name = Count Duplicate Case-insensitive Strings
#LineMon.Atom.2.msg  = DplctCIStrings
#LineMon.Atom.2.tally = {lc(@_[8])}
#LineMon.Atom.2.unique = 1
IlLineMon.Atom.2.type = info
IlLineMon.Atom.2.enable = 1



# SELECT * 
#   FROM classes_atoms 
#   WHERE VSAB != SUBSTR(Termgroup,1,INSTR(Termgroup,'/'));
#
#LineMon.Atom.3.name = Termgroup Does Not Match VSAB
#LineMon.Atom.3.msg  = TgVsabMismatch
#LineMon.Atom.3.query = @_[3] !~ /^@_[2]\//
IlLineMon.Atom.3.type = error
IlLineMon.Atom.3.enable = 1



# SELECT * FROM classes_atoms 
#   WHERE NOT (SCUI IS NULL AND SAUI IS NULL AND SDUI IS NULL) 
#     AND CODE != SAUI AND CODE != SCUI AND CODE != SDUI;
#
#LineMon.Atom.4.name = CODE Does Not Match Non-null SAUI, SCUI, or SDUI 
#LineMon.Atom.4.msg  = CdACDuiMismatch
#LineMon.Atom.4.query = @_[10] ne '' && @_[11] ne '' && @_[12] ne '' \
#	&& @_[4] ne @_[10] && @_[4] ne @_[11] && @_[4] ne @_[12]
IlLineMon.Atom.4.type = error
IlLineMon.Atom.4.enable = 1


# SELECT VSAB, CODE, STR 
#   FROM CLASSES 
#   WHERE regexp_like(STR, ' <[[:digit:]]+>$');
#
#LineMon.Atom.5.name = Strings with Bracket Numbers
#LineMon.Atom.5.msg  = StrWithBracketNums
#LineMon.Atom.5.tally = "@_[2]|@_[4]|@_[8]"
#LineMon.Atom.5.query = @_[8] =~ /\<[\d]*\>$/
IlLineMon.Atom.5.type = warning
IlLineMon.Atom.5.enable = 1



# SELECT VSAB, CODE, STR 
#   FROM CLASSES
#   WHERE regexp_like(STR, '&[[:alnum:]]+;');
#
#LineMon.Atom.6.name = Strings with XML Character Entities
#LineMon.Atom.6.msg  = StrWithXMLChars
#LineMon.Atom.6.fieldCt = 
#LineMon.Atom.6.tally = "@_[2]|@_[4]|@_[8]" 
#LineMon.Atom.6.query = @_[8] =~ /&[[:alnum:]]+/
IlLineMon.Atom.6.type = warning
IlLineMon.Atom.6.enable = 1



# SELECT VSAB, CODE, LAT, STR
#   FROM classes_atoms
#   WHERE VSAB = 'SRC' AND LAT != 'ENG';
#
#LineMon.Atom.7.name = Non-English SRC Atom
#LineMon.Atom.7.msg  = ForeignSrc
#LineMon.Atom.7.tally = "@_[2]|@_[4]|@_[13]|@_[8]"
#LineMon.Atom.7.query = @_[2] eq 'SRC' && @_[13] ne 'ENG'
IlLineMon.Atom.7.type = error
IlLineMon.Atom.7.enable = 1



# SELECT VSAB, CODE, STR
#   FROM CLASSES
#   WHERE CODE LIKE 'U%';
#
#LineMon.Atom.?.name = Codes Starting with U
#LineMon.Atom.?.tally = "@_[2]|@_[4]|@_[8]" 
#LineMon.Atom.?.query = @_[4] =~ /^U/
#LineMon.Atom.?.type = warning
#LineMon.Atom.?.enable = 1
# This is being handled in FieldMons invPat. NOT IMPLEMENTED as LineMON.


#
#      Atom Custom Line Monitors
#      -------------------------
#

LineMon.Atom.101.name = VSAB,Termgroup Tally
LineMon.Atom.101.tally = "@_[2]|@_[3]"
LineMon.Atom.101.type = info


LineMon.Atom.102.name = Termgroup,Status,Tbr,SUPPRESS Tally
LineMon.Atom.102.tally = "@_[3]|@_[5]|@_[6]|@_[9]"
LineMon.Atom.102.type = info



#
#      Atom File Monitors
#      ------------------
#


# FileMon.Atom.1.name = VSAB,LAT not in Sources
# FileMon.Atom.1.msg  = UndefinedSource
# DONE - checking if vsab is valid or not from sources.vsab
# SELECT VSAB,LAT FROM classes_atoms 
#   WHERE (VSAB,LAT) NOT IN (SELECT VSAB,LAT FROM sources)
#     AND VSAB != 'SRC';
#
IlFileMon.Atom.1.enable = 1
IlFileMon.Atom.1.type = error


# FileMon.Atom.2.name = Termgroup not in Termgroups
# FileMon.Atom.2.msg  = UndefinedTG
# SELECT Termgroup FROM classes_atoms
#   WHERE Termgroup NOT IN (SELECT Termgroup FROM termgroups)
#     AND VSAB != 'SRC';
#
IlFileMon.Atom.2.enable = 1
IlFileMon.Atom.2.type = error



# FileMon.Atom.3.name = TTY tty_class not in MRDOC
# FileMon.Atom.3.msg  = UndefinedTTY
# SELECT Termgroup FROM classes_atoms
#   WHERE VSAB != 'SRC'
#     AND SUBSTR(Termgroup,INSTR(Termgroup,'/')+1)
#            NOT IN (SELECT VALUE FROM mrdoc
#                      WHERE DOCKEY='TTY'
#                        AND TYPE = 'expanded_form');
#
IlFileMon.Atom.3.enable = 1
IlFileMon.Atom.3.type = error



# FileMon.Atom.4.name = Code does not Match SRC/[VR]AB Name
# FileMon.Atom.4.msg  = InvVabRabCode
# SELECT STR, CODE FROM classes_atoms
#   WHERE Termgroup in ['SRC/RAB' 'SRC/VAB']
#     AND 'V-' || STR != CODE;
#
IlFileMon.Atom.4.enable = 1
IlFileMon.Atom.4.type = error


# FileMon.Atom.5.name = Duplicate SRC/[VR]AB
# FileMon.Atom.5.msg  = DupSrcVabRab
# SELECT VSAB, CODE, STR FROM classes_atoms
#   WHERE CODE IN (SELECT CODE FROM classes_atoms
#                    WHERE Termgroup in ['SRC/VAB' 'SRC/RAB']
#                    GROUP BY CODE HAVING COUNT(*)>1);
#
IlFileMon.Atom.5.enable = 1
IlFileMon.Atom.5.type = error


# FileMon.Atom.6.name = Mismatched SUPPRESS (Y)
# FileMon.Atom.6.msg  = SuppMismatch
# SELECT a.Termgroup, a.SUPPRESS, b.SUPPRESS
#   FROM termgroups a, classes_atoms b
#   WHERE a.Termgroup = b.Termgroup
#     AND ((a.SUPPRESS = 'Y' &&  b.SUPPRESS NOT IN ('Y','O'))
#	   OR
#          (a.SUPPRESS = 'N' &&  b.SUPPRESS = 'Y')
#          OR
#          (a.SUPPRESS = 'O' &&  b.SUPPRESS != 'O'))
#
#
IlFileMon.Atom.6.enable = 1
IlFileMon.Atom.6.type = error



# this check is moved from IlineMon to IfileMon, to get the reporting tag to ***ERR from INFO:

# SELECT count(*),Termgroup,STR,CODE,SAUI,SCUI,SDUI 
#   FROM classes_atoms 
#   GROUP BY Termgroup,STR,CODE,SAUI,SCUI,SDUI
#   HAVING count(*) >1;
#
#LineMon.Atom.7.name = Non-unique AUI Fields
#LineMon.Atom.7.msg  = NonUniqueAuis
#LineMon.Atom.7.tally = "@_[3]|@_[8]|@_[4]|@_[10]|@_[11]|@_[12]"
#LineMon.Atom.7.unique = 1
IlFileMon.Atom.7.type = error
IlFileMon.Atom.7.enable = 1

# FileMon.Atom.8.name = Mismatched Language 
# FileMon.Atom.8.msg  = LATmismatch
# SELECT VSAB,LAT FROM classes_atoms 
#   WHERE (VSAB,LAT) NOT IN (SELECT VSAB,LAT FROM sources)
#     AND VSAB != 'SRC';
IlFileMon.Atom.8.enable = 1
IlFileMon.Atom.8.type = error


# FileMon.Atom.?.name = TTY expanded_form not in MRDOC
# ????? This is a doc check.
# Could think of this as a doc check.  Since the driving file is the
#       classes_atoms.src file, we made it an atoms check (it's verifying
#       the referential integrity of the TTY portion of the termgroup field).
# SELECT Termgroup FROM classes_atoms
#   WHERE VSAB != 'SRC'
#     AND SUBSTR(Termgroup,INSTR(Termgroup,'/')+1)
#         NOT IN (SELECT VALUE FROM mrdoc
#                   WHERE DOCKEY='TTY'
#                     AND TYPE = 'tty_class');
#
#IlFileMon.Atom.?.type = error
#IlFileMon.Atom.?.enable = 1



#FileMon.Atom.?.name = SrcAtomId Out of Range
# ???? NOT DONE
# This one involves checking against the src atom id ranges file
#      ($INV_HOME/etc/source_atom_ids).  Make sure the min SrcAtomId
#      is >= the min id assigned to this VSAB in the file and the at the
#      max SrcAtomId is <= the max id assigned to this VSAB in the file.
# SELECT SrcAtomId
#   FROM classes_atoms a, src_atom_id_ranges b
#   WHERE (SrcAtomId < startId OR SrcAtomId > endId)
#     AND a.VSAB = b.VSAB;
#
#IlFileMon.Atom.?.enable = 1
#IlFileMon.Atom.?.type = error


#
#
## Atom Monitors END #######################################################



## Attribute Monitors BEGIN ###############################################
#
#      Attribute Field Monitors
#      ------------------------
#


FieldMon.Attribute.1.name = SrcAttrId
FieldMon.Attribute.1.fieldNum = 1
FieldMon.Attribute.1.minLimit = 1
FieldMon.Attribute.1.maxLimit = 10
FieldMon.Attribute.1.nullable = 0
FieldMon.Attribute.1.unique = 1
FieldMon.Attribute.1.valPat = ^\\d*$
FieldMon.Attribute.1.invPat =
FieldMon.Attribute.1.charTally = 0
FieldMon.Attribute.1.tally = 0
FieldMon.Attribute.1.utf8 = 0
FieldMon.Attribute.1.type = error

FieldMon.Attribute.2.name = SgId
FieldMon.Attribute.2.fieldNum = 2
FieldMon.Attribute.2.minLimit = 2
FieldMon.Attribute.2.maxLimit = 50
FieldMon.Attribute.2.nullable = 0
FieldMon.Attribute.2.unique = 0
FieldMon.Attribute.2.valPat =
FieldMon.Attribute.2.invPat = ^\\s|\\s\\s|\\s$
FieldMon.Attribute.2.charTally = 0
FieldMon.Attribute.2.tally = 0
FieldMon.Attribute.2.utf8 = 0
FieldMon.Attribute.2.type = error

FieldMon.Attribute.3.name = Lvl
FieldMon.Attribute.3.fieldNum = 3
FieldMon.Attribute.3.minLimit = 1
FieldMon.Attribute.3.maxLimit = 1
FieldMon.Attribute.3.nullable = 0
FieldMon.Attribute.3.unique = 0
FieldMon.Attribute.3.valPat = ^[CS]$
FieldMon.Attribute.3.invPat =
FieldMon.Attribute.3.charTally = 0
FieldMon.Attribute.3.tally = 0
FieldMon.Attribute.3.utf8 = 0
FieldMon.Attribute.3.type = error

FieldMon.Attribute.4.name = ATN
FieldMon.Attribute.4.fieldNum = 4
FieldMon.Attribute.4.minLimit = 2
FieldMon.Attribute.4.maxLimit = 50
FieldMon.Attribute.4.nullable = 0
FieldMon.Attribute.4.unique = 0
FieldMon.Attribute.4.valPat = ^[A-Z]
FieldMon.Attribute.4.invPat = ^\\s|\\s\\s|\\s$
FieldMon.Attribute.4.charTally = 0
FieldMon.Attribute.4.tally = 1
FieldMon.Attribute.4.utf8 = 0
FieldMon.Attribute.4.type = error

FieldMon.Attribute.5.name = ATV
FieldMon.Attribute.5.fieldNum = 5
FieldMon.Attribute.5.minLimit = 1
FieldMon.Attribute.5.maxLimit = 
FieldMon.Attribute.5.nullable = 0
FieldMon.Attribute.5.unique = 0
FieldMon.Attribute.5.valPat =
FieldMon.Attribute.5.invPat = 
FieldMon.Attribute.5.charTally = 1
FieldMon.Attribute.5.tally = 0
FieldMon.Attribute.5.utf8 = 1
FieldMon.Attribute.5.type = error
FieldMon.Attribute.5.checkWS = 0


FieldMon.Attribute.6.name = VSAB
FieldMon.Attribute.6.fieldNum = 6
FieldMon.Attribute.6.minLimit = 3
FieldMon.Attribute.6.maxLimit = 40
FieldMon.Attribute.6.nullable = 0
FieldMon.Attribute.6.unique = 0
FieldMon.Attribute.6.valPat = ^[A-Z][A-Z0-9_\\-\\.]*$
FieldMon.Attribute.6.invPat =
FieldMon.Attribute.6.charTally = 0
FieldMon.Attribute.6.tally = 0
FieldMon.Attribute.6.utf8 = 0
FieldMon.Attribute.6.type = error

FieldMon.Attribute.7.name = Status
FieldMon.Attribute.7.fieldNum = 7
FieldMon.Attribute.7.minLimit = 1
FieldMon.Attribute.7.maxLimit = 1
FieldMon.Attribute.7.nullable = 0
FieldMon.Attribute.7.unique = 0
FieldMon.Attribute.7.valPat = ^[RN]$
FieldMon.Attribute.7.invPat =
FieldMon.Attribute.7.charTally = 0
FieldMon.Attribute.7.tally = 0
FieldMon.Attribute.7.utf8 = 0
FieldMon.Attribute.7.type = error

FieldMon.Attribute.8.name = Tbr
FieldMon.Attribute.8.fieldNum = 8
FieldMon.Attribute.8.minLimit = 1
FieldMon.Attribute.8.maxLimit = 1
FieldMon.Attribute.8.nullable = 0
FieldMon.Attribute.8.unique = 0
FieldMon.Attribute.8.valPat = ^[YynN]$
FieldMon.Attribute.8.invPat =
FieldMon.Attribute.8.charTally = 0
FieldMon.Attribute.8.tally = 0
FieldMon.Attribute.8.utf8 = 0
FieldMon.Attribute.8.type = error

FieldMon.Attribute.9.name = Released
FieldMon.Attribute.9.fieldNum = 9
FieldMon.Attribute.9.minLimit = 1
FieldMon.Attribute.9.maxLimit = 1
FieldMon.Attribute.9.nullable = 0
FieldMon.Attribute.9.unique = 0
FieldMon.Attribute.9.valPat = ^[N]$
FieldMon.Attribute.9.invPat =
FieldMon.Attribute.9.charTally = 0
FieldMon.Attribute.9.tally = 0
FieldMon.Attribute.9.utf8 = 0
FieldMon.Attribute.9.type = error

FieldMon.Attribute.10.name = SUPPRESS
FieldMon.Attribute.10.fieldNum = 10
FieldMon.Attribute.10.minLimit = 1
FieldMon.Attribute.10.maxLimit = 1
FieldMon.Attribute.10.nullable = 0
FieldMon.Attribute.10.unique = 0
FieldMon.Attribute.10.valPat = ^[N]$
FieldMon.Attribute.10.invPat =
FieldMon.Attribute.10.charTally = 0
FieldMon.Attribute.10.tally = 0
FieldMon.Attribute.10.utf8 = 0
FieldMon.Attribute.10.type = error

FieldMon.Attribute.11.name = SgType
FieldMon.Attribute.11.fieldNum = 11
FieldMon.Attribute.11.minLimit = 3
FieldMon.Attribute.11.maxLimit = 50
FieldMon.Attribute.11.nullable = 0
FieldMon.Attribute.11.unique = 0
FieldMon.Attribute.11.valPat = ^(SRC_ATOM_ID|SRC_REL_ID|CODE_SOURCE|CODE_TERMGROUP|CODE_ROOT_TERMGROUP|AUI|ATOM_ID|SOURCE_AUI|ROOT_SOURCE_AUI|CUI|CUI_SOURCE|CUI_ROOT_SOURCE|CONCEPT_ID|SOURCE_CUI|ROOT_SOURCE_CUI|SOURCE_DUI|ROOT_SOURCE_DUI|SOURCE_RUI|ROOT_SOURCE_RUI)$
FieldMon.Attribute.11.invPat =
FieldMon.Attribute.11.charTally = 0
FieldMon.Attribute.11.tally = 0
FieldMon.Attribute.11.utf8 = 0
FieldMon.Attribute.11.type = error

FieldMon.Attribute.12.name = SgQual
FieldMon.Attribute.12.fieldNum = 12
FieldMon.Attribute.12.minLimit = 0
FieldMon.Attribute.12.maxLimit = 50
FieldMon.Attribute.12.nullable = 1
FieldMon.Attribute.12.unique = 0
FieldMon.Attribute.12.valPat =
FieldMon.Attribute.12.invPat = ^\\s|\\s\\s|\\s$
FieldMon.Attribute.12.charTally = 0
FieldMon.Attribute.12.tally = 0
FieldMon.Attribute.12.utf8 = 0
FieldMon.Attribute.12.type = error

FieldMon.Attribute.13.name = SATUI
FieldMon.Attribute.13.fieldNum = 13
FieldMon.Attribute.13.minLimit = 0
FieldMon.Attribute.13.maxLimit = 50
FieldMon.Attribute.13.nullable = 1
FieldMon.Attribute.13.unique = 0
FieldMon.Attribute.13.valPat =
FieldMon.Attribute.13.invPat = ^\\s|\\s\\s|\\s$
FieldMon.Attribute.13.charTally = 0
FieldMon.Attribute.13.tally = 0
FieldMon.Attribute.13.utf8 = 0
FieldMon.Attribute.13.type = error

FieldMon.Attribute.14.name = HashCode
FieldMon.Attribute.14.fieldNum = 14
FieldMon.Attribute.14.minLimit = 32
FieldMon.Attribute.14.maxLimit = 32
FieldMon.Attribute.14.nullable = 0
FieldMon.Attribute.14.unique = 0
FieldMon.Attribute.14.valPat = ^[a-zA-Z0-9]*$
FieldMon.Attribute.14.invPat =
FieldMon.Attribute.14.charTally = 0
FieldMon.Attribute.14.tally = 0
FieldMon.Attribute.14.utf8 = 0
FieldMon.Attribute.14.type = error


#
#      Attribute Line Monitors
#      -----------------------
#
#      Definitions
ATOMSGTYPES = SRC_ATOM_ID|SRC_REL_ID|CUI|AUI|RUI


#      Attribute Inline Line Monitors
#      ------------------------------

IlLineMon.Attribute.0.fieldCt = 14
IlLineMon.Attribute.0.type = error
IlLineMon.Attribute.0.enable = 1


# SELECT SrcAttrId, Lvl
#   FROM attributes
#   WHERE atn = 'SEMANTIC_TYPE' AND Lvl != 'C';
#[2]
#LineMon.Attribute.1.name = Non C Level SEMANTIC_TYPE
#LineMon.Attribute.1.msg  = NonCLvlStys
#LineMon.Attribute.1.tally = "@_[1]|@_[3]"
#LineMon.Attribute.1.query = @_[4] eq 'SEMANTIC_TYPE' && @_[3] ne 'C'
IlLineMon.Attribute.1.type = error
IlLineMon.Attribute.1.enable = 1



# SELECT SrcAttrId, VSAB, ATN, Lvl
#   FROM attributes
#   WHERE atn != 'SEMANTIC_TYPE' AND Lvl != 'S';
#[3]
#LineMon.Attribute.2.name = Non S Level non-SEMANTIC_TYPE
#LineMon.Attribute.2.msg  = CLclNonStys
#LineMon.Attribute.2.tally = "@_[1]|@_[6]|@_[4]|@_[3]"
#LineMon.Attribute.2.query = @_[4] ne 'SEMANTIC_TYPE' && @_[3] ne 'S'
IlLineMon.Attribute.2.type = error
IlLineMon.Attribute.2.enable = 1



# SELECT SrcAttrId, VSAB
#   FROM attributes
#   WHERE Tbr in ('y','Y') AND ATN = 'CONTEXT';
#[4]
#LineMon.Attribute.3.name = Releasable CONTEXT Attributes
#LineMon.Attribute.3.msg  = TbrYCxts
#LineMon.Attribute.3.tally = "@_[1]|@_[6]"
#LineMon.Attribute.3.query = uc(@_[8]) eq 'Y' && @_[4] eq 'CONTEXT'
IlLineMon.Attribute.3.type = error
IlLineMon.Attribute.3.enable = 1




# SELECT SrcAttrId, VSAB FROM attributes
#   WHERE ATN = 'LEXICAL_TAG'
#     AND ((ATV NOT in ('LAB', 'TRD')))
#          OR
#          (Tbr in ('n','N') AND ATV = 'TRD')
#          OR
#          (Tbr NOT in ('n', 'N') AND ATV != 'TRD'))
#[5]
#LineMon.Attribute.4.name = invalid LEXICAL_TAG/TRD Attributes
#LineMon.Attribute.4.msg  = InvTbrLexTrd
#LineMon.Attribute.4.tally = "@_[1]|@_[6]"
#LineMon.Attribute.4.query = @_[4] eq 'LEXICAL_TAG' && \
#	((@_[5] =~ /LAB|TRD/) || \
#	 (uc(@_[8]) eq 'N' && @_[5] eq 'TRD') || \
#	 (uc(@_[8]) ne 'N' && @_[5] ne 'TRD'))
IlLineMon.Attribute.4.type = error
IlLineMon.Attribute.4.enable = 1



# SELECT SrcAttrId, VSAB FROM attributes
#   WHERE Status = 'N'
#     AND Lvl = 'S';
#[6]
#LineMon.Attribute.5.name = Status N Level S Attributes
#LineMon.Attribute.5.msg  = StsNLvlsS
#LineMon.Attribute.5.tally = "@_[1]|@_[6]"
#LineMon.Attribute.5.query = @_[7] eq 'N' && @_[3] eq 'S'
IlLineMon.Attribute.5.type = error
IlLineMon.Attribute.5.enable = 1



# SELECT count(*),VSAB,ATN,HashCode,SgId,SgType,SgQual FROM attributes
#   GROUP BY VSAB,ATN,HashCode,SgId,SgType,SgQual
#   HAVING count(*)>1;
#[7]
#LineMon.Attribute.6.name = Non-unique ATUI Fields
#LineMon.Attribute.6.msg  = NonUniqueAtui
#LineMon.Attribute.6.tally = "@_[6]|@_[4]|@_[14]|@_[2]|@_[11]|@_[12]"
#LineMon.Attribute.6.unique = 1
IlLineMon.Attribute.6.type = error
IlLineMon.Attribute.6.enable = 1


# SELECT * from Atributes
#   WHERE ATN = 'SEMANTIC_TYPE' AND STATUS = 'N/n' AND VSAB != 'E-%'
#[8]
#LineMon.Attribute.7.name = Non SRC Stys with non E-* source
#LineMon.Attribute.7.msg  = NonSrcStyNonESrc
#LineMon.Attribute.7.tally = "@_[6]|@_[4]|@_[14]|@_[2]|@_[11]|@_[12]"
#LineMon.Attribute.7.query = @_[6] ne 'SRC' && @_[7] eq 'N' && \
#                  @_[6] !~ /^E\-/
IlLineMon.Attribute.7.type = error
IlLineMon.Attribute.7.enable = 1



# SELECT VSAB, ATV FROM attributes
#   WHERE regexp_like(ATV, '&[[:alnum:]]+;'
#[9]
#LineMon.Attribute.8.name = ATV with XML Character Entities
#LineMon.Attribute.8.msg  = XMLChars
#LineMon.Attribute.8.tally = "@_[6]|@_[5]"
#LineMon.Attribute.8.query = @_[5] =~ /&[[:alnum:]]+/
IlLineMon.Attribute.8.type = warning
IlLineMon.Attribute.8.enable = 1



# SELECT VSAB, SrcAttrId, SATUI FROM attributes
#   WHERE SATUI IS NOT NULL;
#[11]
#LineMon.Attribute.9.name = Attribute with non-null SATUI
#LineMon.Attribute.9.msg  = NonNullSAtui
#LineMon.Attribute.9.tally = "@_[6]|@_[1]|@_[13]"
#LineMon.Attribute.9.query = @_[13] ne ''
IlLineMon.Attribute.9.type = warning
IlLineMon.Attribute.9.enable = 1



# SELECT VSAB, SrcAttrId FROM attributes
#   WHERE attribute_name='XMAP'
#     AND SUBSTR(ATV,
#                instr(ATV, '~', 1, 3) + 1,
#                (INSTR(ATV, '~', 1, 4) - INSTR(ATV, '~', 1, 3)) -1 )
#              IS NULL;
#[12]
#LineMon.Attribute.10.name = XMAP Attribute with Null REL
#LineMon.Attribute.10.msg  = NullRelaForXmapRN
#LineMon.Attribute.10.tally = "@_[6]|@_[1]"
#LineMon.Attribute.10.query = @j = split(@_[5],/\~/,5); \
#	@_[4] eq 'XMAP' && $j[2] eq 'RN' && $j[3] eq ''
IlLineMon.Attribute.10.type = error
IlLineMon.Attribute.10.enable = 1



# Select ATID, ATN, ATV, if ATN != CONTEXT and ATV =~ /\s{2,}/ then error
#LineMon.Attribute.11.name = white space in non CONTEXT attributes
#LineMon.Attribute.11.msg  = WSinAttrVal
#LineMon.Attribute.11.query = $_[4] ne 'CONTEXT' && $_[5] =~ /\s{2,}/
IlLineMon.Attribute.11.type = error
IlLineMon.Attribute.11.enable = 1

# Select id_1, source from attributes where atn = 'SEMANTIC_TYPE' and source != E-$vsab;
#LineMon.Attribute.12.name = check vsab for sty's
#LineMon.Attribute.12.msg  = checkSTYVsab
#LineMon.Attribute.12.query = $_[4] eq 'SEMANTIC_TYPE' && $_[6] != 'E-$vsab'
IlLineMon.Attribute.12.type = error
IlLineMon.Attribute.12.enable = 1


# ?????????????????????? this is fishy. Do you mean for the same id?
# This one was actually from before.  Again, Steph wants to see a list of
#    ATNs that have non-unique values across the file.  This is an
#    "info" check.  It would be suspicious if, say DEFINITION was a
#    field that had duplicate ATVs, so a quick human-review check of the
#    list is a good idea.
# this can be achieved by setting the tally field in fieldmon.- done
# SELECT count(*), ATN 
#   FROM attributes
#   GROUP BY ATN
#   HAVING COUNT(DISTINCT ATV)>1;
#
#LineMon.Attribute.?.name = ATNs with Duplicate ATV
#LineMon.Attribute.?.tally = "@_[4]"
#LineMon.Attribute.?.unique = 1
#LineMon.Attribute.?.type = info
#InLineMon.Attribute.?.enable = 1

# redundent check - not needed.
# SELECT VSAB, SgId, SgType FROM attributes
#   WHERE SgQual IS NULL
#     AND SgType NOT IN ('SRC_ATOM_ID','SRC_REL_ID','CUI','AUI','RUI');
#[10] 
#LineMon.Attribute.?.name = SgType without Required SgQual
#LineMon.Attribute.?.tally = "@_[6]|@_[2]|@_[11]"
#LineMon.Attribute.?.query = @_[12] eq '' && @_[11] !~ /<ATOMSGTYPES>/
#IlLineMon.Attribute.?.type = error
#IlLineMon.Attribute.?.enable = 0




#      Attribute Custom Line Monitors
#      ------------------------------

LineMon.Attribute.101.name = VSAB,ATN,SgType,SgQual Tally
LineMon.Attribute.101.tally = "@_[6]|@_[4]|@_[11]|@_[12]"
LineMon.Attribute.101.type = info


LineMon.Attribute.102.name = VSAB,Lvl,Status,Tbr,SUPPRESS Tally
LineMon.Attribute.102.tally = "@_[6]|@_[4]|@_[3]|@_[7]|@_[8]|@_[10]"
LineMon.Attribute.102.type = info



#
#      Attribute File Monitors
#      -----------------------
#


# FileMon.Attribute.1.name = (SgType,SgId) Mismatch
# FileMon.Attribute.1.msg  = InvSgType
# SELECT SgId FROM attributes
#   WHERE 
#     (SgType = 'CODE_SOURCE' && (SgId,SgQual) NOT IN 
#               (SELECT CODE,VSAB FROM classes_atoms))
#     OR (SgType = 'CODE_ROOT_SOURCE' && (SgId,SgQual) NOT IN 
#                (SELECT CODE,RSAB
#                  FROM classes_atoms a, sources b
#                  WHERE a.VSAB = b.VSAB))
#     OR (SgType = 'CODE_TERMGROUP' && (SgId,SgQual) NOT IN
#                (SELECT CODE,Termgroup FROM classes_atoms))
#     OR (SgType = 'CODE_ROOT_TERMGROUP' &&  (SgId,SgQual) NOT IN 
#                (SELECT CODE, RSAB || '/' 
#                        SUBSTR(Termgroup,INSTR(Termgroup,'/')+1)
#                   FROM classes_atoms a, sources b
#                   WHERE a.VSAB = b.VSAB))
#     OR (SgType = 'SOURCE_AUI' && (SgId,SgQual) NOT IN
#                (SELECT SAUI,VSAB FROM classes_atoms))
#     OR (SgType = 'ROOT_SOURCE_AUI' && (SgId,SgQual) NOT IN
#                (SELECT SAUI,RSAB
#                   FROM classes_atoms a, sources b
#                   WHERE a.VSAB = b.VSAB))
#     OR (SgType = 'SOURCE_CUI' && (SgId,SgQual) NOT IN
#               (SELECT SCUI,VSAB FROM classes_atoms))
#     OR (SgType = 'ROOT_SOURCE_CUI' && (SgId,SgQual) NOT IN
#                (SELECT SCUI,RSAB
#                   FROM classes_atoms a, sources b
#                   WHERE a.VSAB = b.VSAB))
#     OR (SgType = 'SOURCE_DUI' && (SgId,SgQual) NOT IN
#               (SELECT SDUI,VSAB FROM classes_atoms))
#     OR (SgType = 'ROOT_SOURCE_DUI' && (SgId,SgQual) NOT IN
#                (SELECT SDUI,RSAB
#                   FROM classes_atoms a, sources b
#                   WHERE a.VSAB = b.VSAB))
#     OR (SgType = 'SOURCE_RUI' && (SgId,SgQual) NOT IN
#                (SELECT SDUI,VSAB FROM relationships))
#     OR (SgType = 'ROOT_SOURCE_RUI' && (SgId,SgQual) NOT IN
#                (SELECT SRUI,RSAB
#                   FROM relationships a, sources b
#                   WHERE a.VSAB = b.VSAB))
#     OR (SgType = 'SRC_ATOM_ID' && to_number(SgId) NOT IN 
#                (SELECT SrcAtomId FROM classes_atoms))
#     OR (SgType = 'SRC_REL_ID' && to_number(SgId) NOT IN
#                (SELECT SrcRelId FROM relationships))
#[1-14]
IlFileMon.Attribute.1.type = error
IlFileMon.Attribute.1.enable = 1



# FileMon.Attribute.2.name = ATN not in MRDOC
# FileMon.Attribute.2.msg  = InvAttrName
# SELECT ATN FROM attributes
#   WHERE ATN NOT IN (SELECT VALUE FROM MRDOC
#                       WHERE DOCKEY = 'ATN'
#                         AND TYPE = 'expanded_form');
#[15]
IlFileMon.Attribute.2.type = error
IlFileMon.Attribute.2.enable = 1



# FileMon.Attribute.3.name = Invalid STY Value
# FileMon.Attribute.3.msg  = InvSTY
# SELECT ATV FROM attributes
#   WHERE ATN = 'SEMANTIC_TYPE'
#     AND ATV NOT IN (SELECT STY_RL FROM SRDEF WHERE RT = 'STY');
#[16]
IlFileMon.Attribute.3.type = error
IlFileMon.Attribute.3.enable = 1



# FileMon.Attribute.4.name = VSAB not in Sources
# FileMon.Attribute.4.msg  = InvVsab
# SELECT VSAB FROM attributes
#   WHERE VSAB NOT IN (SELECT VSAB FROM sources);
#[17]
IlFileMon.Attribute.4.type = error
IlFileMon.Attribute.4.enable = 1



#FileMon.Attribute.5.name = XMAP / XMAPTO / XMAPFROM checks
#FileMon.Attribute.5.msg  = MissingX*to/fromX*
# SELECT SrcAttrId FROM attributes a
#   WHERE 
#     (ATN = 'XMAP' 
#      && (SgId,SUBSTR(ATV,INSTR(ATV,'~',1,2)+1,
#                      INSTR(ATV,'~',1,3)-INSTR(ATV,'~',1,2)-1))
#          NOT IN (SELECT SgId, SUBSTR(ATV,1,INSTR(ATV,'~')-1)
#                    FROM attributes
#                    WHERE ATN = 'XMAPTO'))
#     OR (ATN = 'XMAP'
#         && (SgId,SUBSTR(ATV,INSTR(ATV,'~',1,2)+1,
#                         INSTR(ATV,'~',1,3)-INSTR(ATV,'~',1,2)-1))
#            NOT IN (SELECT SgId, SUBSTR(ATV,1,INSTR(ATV,'~')-1)
#                      FROM attributes
#                      WHERE ATN = 'XMAPFFROM'))
#     OR (ATN = 'XMAPTO'
#         && (SgId,SUBSTR(ATV,1,INSTR(ATV,'~')-1))
#            NOT IN (SELECT SgId,
#                         SUBSTR(ATV,
#                                INSTR(ATV,'~',1,5)+1,
#                                INSTR(ATV,'~',1,6)-INSTR(ATV,'~',1,5)-1)
#                     FROM attributes a
#                     WHERE ATN = 'XMAP'))
#     OR (ATN = 'XMAPFROM'
#         && (SgId,SUBSTR(ATV,1,INSTR(ATV,'~')-1))
#             NOT IN (SELECT SgId,
#                         SUBSTR(ATV,INSTR(ATV,'~',1,5)+1,
#                                INSTR(ATV,'~',1,6)-INSTR(ATV,'~',1,5)-1)
#                        FROM attributes a 
#                        WHERE ATN = 'XMAP'))
#[18-21]
IlFileMon.Attribute.5.type = error
IlFileMon.Attribute.5.enable = 1


# FileMon.Attribute.6.name = SRC/VPT without Intellectual Product STY
# FileMon.Attribute.6.msg  = VPTAtomWithNoSTY
# SELECT SrcAtomId FROM classes
#   WHERE SrcAtomId NOT IN (SELECT to_number(SgId) FROM attributes
#                             WHERE TG = 'SRC/VPT',
#                               ATN = 'SEMANTIC_TYPE'
#                               AND ATV = 'Intellectual Product'
#                               AND SgType = 'SRC_ATOM_ID');
#[22]
IlFileMon.Attribute.6.type = error
IlFileMon.Attribute.6.enable = 1

# FileMon.Attribute.7.name = Check MD5 value is correct
# FileMon.Attribute.7.msg  = MD5MisMatch
# FileMon.Attribute.7.query = $_[14] ne 'md5_hex(encode_utf8($IL[5]))'
#[22]
IlFileMon.Attribute.7.type = error
IlFileMon.Attribute.7.enable = 1

#
#
## Attribute Monitors END ################################################



## Relation Monitors BEGIN ##############################################
#
#      Relation Field Monitors
#      -----------------------
#

FieldMon.Relation.1.name = SrcRelId
FieldMon.Relation.1.fieldNum = 1
FieldMon.Relation.1.minLimit = 1
FieldMon.Relation.1.maxLimit = 12
FieldMon.Relation.1.nullable = 0
FieldMon.Relation.1.unique = 1
FieldMon.Relation.1.valPat = ^[\\d]*$
FieldMon.Relation.1.invPat =
FieldMon.Relation.1.charTally = 0
FieldMon.Relation.1.tally = 0
FieldMon.Relation.1.utf8 = 0
FieldMon.Relation.1.type = error

FieldMon.Relation.2.name = Lvl
FieldMon.Relation.2.fieldNum = 2
FieldMon.Relation.2.minLimit = 1
FieldMon.Relation.2.maxLimit = 1
FieldMon.Relation.2.nullable = 0
FieldMon.Relation.2.unique = 0
FieldMon.Relation.2.valPat = ^[S]$
FieldMon.Relation.2.invPat =
FieldMon.Relation.2.charTally = 0
FieldMon.Relation.2.tally = 0
FieldMon.Relation.2.utf8 = 0
FieldMon.Relation.2.type = error

FieldMon.Relation.3.name = SgId1
FieldMon.Relation.3.fieldNum = 3
FieldMon.Relation.3.minLimit = 2
FieldMon.Relation.3.maxLimit = 50
FieldMon.Relation.3.nullable = 0
FieldMon.Relation.3.unique = 0
FieldMon.Relation.3.valPat =
FieldMon.Relation.3.invPat = ^\\s|\\s\\s|\\s$
FieldMon.Relation.3.charTally = 0
FieldMon.Relation.3.tally = 0
FieldMon.Relation.3.utf8 = 0
FieldMon.Relation.3.type = error

FieldMon.Relation.4.name = REL
FieldMon.Relation.4.fieldNum = 4
FieldMon.Relation.4.minLimit = 2
FieldMon.Relation.4.maxLimit = 7
FieldMon.Relation.4.nullable = 0
FieldMon.Relation.4.unique = 0
FieldMon.Relation.4.valPat = ^(SFO\\/LFO|SY|RT|NT|XR|BT|AQ|RT\\?|AQ\\?)$
FieldMon.Relation.4.invPat =
FieldMon.Relation.4.charTally = 0
FieldMon.Relation.4.tally = 0
FieldMon.Relation.4.utf8 = 0
FieldMon.Relation.4.type = error

FieldMon.Relation.5.name = RELA
FieldMon.Relation.5.fieldNum = 5
FieldMon.Relation.5.minLimit = 0
FieldMon.Relation.5.maxLimit = 100
FieldMon.Relation.5.nullable = 1
FieldMon.Relation.5.unique = 0
FieldMon.Relation.5.valPat = ^[a-z][a-z_]*[a-z]$
FieldMon.Relation.5.invPat = __
FieldMon.Relation.5.charTally = 0
FieldMon.Relation.5.tally = 0
FieldMon.Relation.5.utf8 = 0
FieldMon.Relation.5.type = error

FieldMon.Relation.6.name = SgId2
FieldMon.Relation.6.fieldNum = 6
FieldMon.Relation.6.minLimit = 2
FieldMon.Relation.6.maxLimit = 50
FieldMon.Relation.6.nullable = 0
FieldMon.Relation.6.unique = 0
FieldMon.Relation.6.valPat =
FieldMon.Relation.6.invPat = ^\\s|\\s\\s|\\s$
FieldMon.Relation.6.charTally = 0
FieldMon.Relation.6.tally = 0
FieldMon.Relation.6.utf8 = 0
FieldMon.Relation.6.type = error

FieldMon.Relation.7.name = VSAB
FieldMon.Relation.7.fieldNum = 7
FieldMon.Relation.7.minLimit = 3
FieldMon.Relation.7.maxLimit = 40
FieldMon.Relation.7.nullable = 0
FieldMon.Relation.7.unique = 0
FieldMon.Relation.7.valPat = ^[A-Z][A-Z0-9_\\-\\.]*$
FieldMon.Relation.7.invPat =
FieldMon.Relation.7.charTally = 0
FieldMon.Relation.7.tally = 0
FieldMon.Relation.7.utf8 = 0
FieldMon.Relation.7.type = error

FieldMon.Relation.8.name = SL
FieldMon.Relation.8.fieldNum = 8
FieldMon.Relation.8.minLimit = 3
FieldMon.Relation.8.maxLimit = 20
FieldMon.Relation.8.nullable = 0
FieldMon.Relation.8.unique = 0
FieldMon.Relation.8.valPat = ^[A-Z][A-Z0-9_\\-\\.]*$
FieldMon.Relation.8.invPat =
FieldMon.Relation.8.charTally = 0
FieldMon.Relation.8.tally = 0
FieldMon.Relation.8.utf8 = 0
FieldMon.Relation.8.type = error

FieldMon.Relation.9.name = Status
FieldMon.Relation.9.fieldNum = 9
FieldMon.Relation.9.minLimit = 1
FieldMon.Relation.9.maxLimit = 1
FieldMon.Relation.9.nullable = 0
FieldMon.Relation.9.unique = 0
FieldMon.Relation.9.valPat = ^[R]$
FieldMon.Relation.9.invPat =
FieldMon.Relation.9.charTally = 0
FieldMon.Relation.9.tally = 0
FieldMon.Relation.9.utf8 = 0
FieldMon.Relation.9.type = error

FieldMon.Relation.10.name = Tbr
FieldMon.Relation.10.fieldNum = 10
FieldMon.Relation.10.minLimit = 1
FieldMon.Relation.10.maxLimit = 1
FieldMon.Relation.10.nullable = 0
FieldMon.Relation.10.unique = 0
FieldMon.Relation.10.valPat = ^[YynN]$
FieldMon.Relation.10.invPat =
FieldMon.Relation.10.charTally = 0
FieldMon.Relation.10.tally = 0
FieldMon.Relation.10.utf8 = 0
FieldMon.Relation.10.type = error

FieldMon.Relation.11.name = Released
FieldMon.Relation.11.fieldNum = 11
FieldMon.Relation.11.minLimit = 1
FieldMon.Relation.11.maxLimit = 1
FieldMon.Relation.11.nullable = 0
FieldMon.Relation.11.unique = 0
FieldMon.Relation.11.valPat = ^[N]$
FieldMon.Relation.11.invPat =
FieldMon.Relation.11.charTally = 0
FieldMon.Relation.11.tally = 0
FieldMon.Relation.11.utf8 = 0
FieldMon.Relation.11.type = error

FieldMon.Relation.12.name = SUPPRESS
FieldMon.Relation.12.fieldNum = 12
FieldMon.Relation.12.minLimit = 1
FieldMon.Relation.12.maxLimit = 1
FieldMon.Relation.12.nullable = 0
FieldMon.Relation.12.unique = 0
FieldMon.Relation.12.valPat = ^[N]$
FieldMon.Relation.12.invPat =
FieldMon.Relation.12.charTally = 0
FieldMon.Relation.12.tally = 0
FieldMon.Relation.12.utf8 = 0
FieldMon.Relation.12.type = error

FieldMon.Relation.13.name = SgType1
FieldMon.Relation.13.fieldNum = 13
FieldMon.Relation.13.minLimit = 3
FieldMon.Relation.13.maxLimit = 50
FieldMon.Relation.13.nullable = 0
FieldMon.Relation.13.unique = 0
FieldMon.Relation.13.valPat = ^(SRC_ATOM_ID|CODE_SOURCE|CODE_TERMGROUP|CODE_ROOT_TERMGROUP|CODE_ROOT_SOURCE|AUI|ATOM_ID|SOURCE_AUI|ROOT_SOURCE_AUI|CUI|CUI_SOURCE|CUI_ROOT_SOURCE|CONCEPT_ID|SOURCE_CUI|ROOT_SOURCE_CUI|SOURCE_DUI|ROOT_SOURCE_DUI|SOURCE_RUI|ROOT_SOURCE_RUI)$
FieldMon.Relation.13.invPat =
FieldMon.Relation.13.charTally = 0
FieldMon.Relation.13.tally = 0
FieldMon.Relation.13.utf8 = 0
FieldMon.Relation.13.type = error

FieldMon.Relation.14.name = SgQual1
FieldMon.Relation.14.fieldNum = 14
FieldMon.Relation.14.minLimit = 0
FieldMon.Relation.14.maxLimit = 50
FieldMon.Relation.14.nullable = 1
FieldMon.Relation.14.unique = 0
FieldMon.Relation.14.valPat = 
FieldMon.Relation.14.invPat = ^\\s|\\s\\s|\\s$
FieldMon.Relation.14.charTally = 0
FieldMon.Relation.14.tally = 0
FieldMon.Relation.14.utf8 = 0
FieldMon.Relation.14.type = error

FieldMon.Relation.15.name = SgType2
FieldMon.Relation.15.fieldNum = 15
FieldMon.Relation.15.minLimit = 3
FieldMon.Relation.15.maxLimit = 50
FieldMon.Relation.15.nullable = 0
FieldMon.Relation.15.unique = 0
FieldMon.Relation.15.valPat = ^(SRC_ATOM_ID|CODE_SOURCE|CODE_TERMGROUP|CODE_ROOT_TERMGROUP|CODE_ROOT_SOURCE|AUI|ATOM_ID|SOURCE_AUI|ROOT_SOURCE_AUI|CUI|CUI_SOURCE|CUI_ROOT_SOURCE|CONCEPT_ID|SOURCE_CUI|ROOT_SOURCE_CUI|SOURCE_DUI|ROOT_SOURCE_DUI|SOURCE_RUI|ROOT_SOURCE_RUI)$
FieldMon.Relation.15.invPat =
FieldMon.Relation.15.charTally = 0
FieldMon.Relation.15.tally = 0
FieldMon.Relation.15.utf8 = 0
FieldMon.Relation.15.type = error

FieldMon.Relation.16.name = SgQual2
FieldMon.Relation.16.fieldNum = 16
FieldMon.Relation.16.minLimit = 0
FieldMon.Relation.16.maxLimit = 50
FieldMon.Relation.16.nullable = 1
FieldMon.Relation.16.unique = 0
FieldMon.Relation.16.valPat = 
FieldMon.Relation.16.invPat = ^\\s|\\s\\s|\\s$
FieldMon.Relation.16.charTally = 0
FieldMon.Relation.16.tally = 0
FieldMon.Relation.16.utf8 = 0
FieldMon.Relation.16.type = error

FieldMon.Relation.17.name = SRUI
FieldMon.Relation.17.fieldNum = 17
FieldMon.Relation.17.minLimit = 0
FieldMon.Relation.17.maxLimit = 50
FieldMon.Relation.17.nullable = 1
FieldMon.Relation.17.unique = 0
FieldMon.Relation.17.valPat = 
FieldMon.Relation.17.invPat = ^\\s|\\s\\s|\\s$
FieldMon.Relation.17.charTally = 0
FieldMon.Relation.17.tally = 0
FieldMon.Relation.17.utf8 = 0
FieldMon.Relation.17.type = error

FieldMon.Relation.18.name = RG
FieldMon.Relation.18.fieldNum = 18
FieldMon.Relation.18.minLimit = 0
FieldMon.Relation.18.maxLimit = 10
FieldMon.Relation.18.nullable = 1
FieldMon.Relation.18.unique = 0
FieldMon.Relation.18.valPat = 
FieldMon.Relation.18.invPat = ^\\s|\\s\\s|\\s$
FieldMon.Relation.18.charTally = 0
FieldMon.Relation.18.tally = 0
FieldMon.Relation.18.utf8 = 0
FieldMon.Relation.18.type = error


#
#      Relation Line Monitors
#      ----------------------
#
#      Definitions
#      -----------
#

RTRELAS = associated_with|consists_of|constitutes|contains|contained_in|\
		ingredient_of|has_ingredient
NTRELAS = conceptual_part_of|form_of|isa|part_of|tradname_of
BTRELAS = has_conceptual_part|has_form|inverse_isa|has_part|has_tradname

SLFOSGS = ROOT_SOURCE_AUI|SOURCE_AUI|SRC_ATOM_ID

#
#      Relation Inline Line Monitors
#      -----------------------------

IlLineMon.Relation.0.fieldCt = 18
IlLineMon.Relation.0.type = error
IlLineMon.Relation.0.enable = 1


# SELECT SrcRelId, VSAB, SL FROM relationships
#   WHERE VSAB != SL; 
#
#IlLineMon.Relation.1.name = VSAB not equal to SL
#IlLineMon.Relation.1.msg  = VsabNeL
#ILLineMon.Relation.1.tally = "@_[1]|@_[7]|@_[8]"
#IlLineMon.Relation.1.query = @_[7] ne @_[8]
IlLineMon.Relation.1.type = error
IlLineMon.Relation.1.enable = 1



# SELECT SrcRelId, VSAB FROM relationships
#   WHERE SgId1 = SgId2
#     AND SgType1 = SgType2
#     AND NVL(SgQual1,'null') = NVL(SgQual2,'null'); 
#
#IlLineMon.Relation.2.name = Self-referential Relationships
#IlLineMon.Relation.2.msg  = SelfRefRels
#IlLineMon.Relation.2.tally = "@_[1]|@_[7]"
#IlLineMon.Relation.2.query = @_[3] eq @_[6] && @_[13] eq @_[15] \
#			   && @_[14] eq @_[16]
IlLineMon.Relation.2.type = error
IlLineMon.Relation.2.enable = 1



# SELECT SrcRelId, VSAB, REL, RELA FROM relationships
#   WHERE (RELA in ('associated_with','consists_of','constitutes',
#                   'contains','contained_in','ingredient_of','has_ingredient')
#          AND
#          REL != 'RT')
#      OR (RELA in ('conceptual_part_of','form_of','isa','part_of',
#                   'tradname_of')
#          AND REL != 'NT')
#      OR (RELA in ('has_conceptual_part','has_form','inverse_isa',
#                   'has_part','has_tradname')
#          AND REL != 'BT');
#
#IlLineMon.Relation.3.name = Conflicting REL,RELA
#IlLineMon.Relation.3.smg  = InvRelRela
#IlLineMon.Relation.3.tally = "@_[1]|@_[7]|@_[4]|@_[5]"
#IlLineMon.Relation.3.query = (@_[4] eq 'RT' && @_[5] !~ /<RTRELAS>/) \
#			|| (@_[4] eq 'NT' && @_[5] !~ /<NTRELAS>/) \
#			|| (@_[4] eq 'BT' && @_[5] !~ /<BTRELAS>/)
IlLineMon.Relation.3.type = error
IlLineMon.Relation.3.enable = 1



# SELECT count(*),VSAB,REL,RELA,SgId1,SgType1,SgQual1,SgId2,SgType2,SgQual2
#   FROM relationships
#   GROUP BY VSAB,REL,RELA,SgId1,SgType1,SgQual1,SgId2,SgType2,SgQual2
#    HAVING count(*)>1;
#
#IlLineMon.Relation.4.name = NonUniqueRuis (Non-unique RUI Fields)
#IlLineMon.Relation.4.msg  = NonUniqueRuis
#IlLineMon.Relation.4.tally = "@_[7]|@_[4]|@_[5]|@_[3]|@_[13]|@_[14]|\
#			@_[6]|@_[15]|@_[16]"
#LineMon.Relation.4.unique = 1
IlLineMon.Relation.4.type = error
IlLineMon.Relation.4.enable = 1



# SELECT VSAB,SgType1,SgType2 FROM relationships
#   WHERE REL = 'SFO/LFO'
#     AND (SgType1 NOT IN ('ROOT_SOURCE_AUI','SOURCE_AUI','SRC_ATOM_ID')
#          OR
#          SgType2 NOT IN ('ROOT_SOURCE_AUI','SOURCE_AUI','SRC_ATOM_ID'));
#
#LineMon.Relation.5.name = SFO/LFO Not Connected to Atom
#LineMon.Relation.5.msg = OrphanSFOLFO
#LineMon.Relation.5.tally = "@_[7]|@_[13]|@_[15]"
#LineMon.Relation.5.query = @_[4] eq 'SFO/LFO' && (@_[13] !~ /<SLFOSGS>/ \
#	|| @_[15] !~ /<SLFOSGS>/)

IlLineMon.Relation.5.type = error
IlLineMon.Relation.5.enable = 1



# SELECT SrcRelId, rela  FROM relationships
#   WHERE RELA = 'translation_of'
#     AND VSAB = 'SRC'
#     AND (SgType1 != 'CODE_TERMGROUP'
#          OR
#          SgType2 != 'CODE_TERMGROUP'
#          OR
#          SgQual1 != 'SRC/RPT'
#          OR
#          SgQual2 != 'SRC/RPT');
#[8]
#LineMon.Relation.6.name = Invalid SgType and SgQual For translation_of & \
#			version_of Relations
#LineMon.Relation.6.msg  = InvSgsTransVer
#LineMon.Relation.6.tally = "@_[1]|@_[5]"
#LineMon.Relation.6.query = @_[5] =~ /translation_of|version_of/ \
#			&& @_[7] eq 'SRC' && \
#	(@_[13] ne 'CODE_TERMGROUP' || @_[15] ne 'CODE_TERMGROUP' \
#	|| @_[14] ne 'SRC/RPT' || @_[16] ne 'SRC_RPT')
#LineMon.Relation.6.type = error
InLineMon.Relation.6.enable = 1


#LineMon.Relation.7.name  = non unique source ruis (excep ~QA..)
#LineMon.Relation.7.msg  = NonUniqueSRuis
LineMon.Relation.7.type = error
InLineMon.Relation.7.enable = 1





# combined with the above one. - NONEED
# SELECT SrcRelId FROM relationships
#   WHERE RELA = 'version_of'
#     AND VSAB = 'SRC'
#     AND (SgType1 != 'CODE_TERMGROUP' OR
#          SgType2 != 'CODE_TERMGROUP' OR
#          SgQual1 != 'SRC/RPT' OR
#          SgQual2 != 'SRC/VPT');
#


# not needed.
# SELECT VSAB, SgId1, SgType1 FROM relationships
#   WHERE SgQual1 IS NULL
#     AND SgType1 NOT IN ('SRC_ATOM_ID','SRC_REL_ID','CUI','AUI','RUI');
#
#LineMon.Relation.?.name = SgType1 without Required SgQual
#LineMon.Relation.?.tally = "@_[7]|@_[3]|@_[13]"
#LineMon.Relation.?.query = @_[14] eq '' && @_13] !~ /<ATOMSGTYPES>/
#IlLineMon.Relation.?.type = error
#IlLineMon.Relation.?.enable = 1


# not needed.
# SELECT VSAB, SgId2, SgType2 FROM relationships
#   WHERE SgQual2 IS NULL
#     AND SgType2 NOT IN ('SRC_ATOM_ID','SRC_REL_ID','CUI','AUI','RUI');
#
#LineMon.Relation.?.name = SgType2 without Required SgQual
#LineMon.Relation.?.tally = "@_[7]|@_[6]|@_[15]"
#LineMon.Relation.?.query = @_[16] eq '' && @_15] !~ /<ATOMSGTYPES>/
#LineMon.Relation.?.type = error
#InLineMon.Relation.?.enable = 1




#
#      Relation Custom Line Monitors
#      -----------------------------

LineMon.Relation.101.name = REL,RELA Tally
LineMon.Relation.101.tally = "@_[4]|@_[5]"
LineMon.Relation.101.type = info



LineMon.Relation.102.name = VSAB,SL,REL,RELA,SgType1,SgQual1,SgType2,SgQual2 Tally
LineMon.Relation.102.tally = "@_[7]|@_[8]|@_[4]|@_[5]|@_[13]|@_[14]|@_[15]|@_[16]"
LineMon.Relation.102.type = info


LineMon.Relation.103.name = VSAB,Status,Tbr,SUPPRESS Tally
LineMon.Relation.103.tally = "@_[7]|@_[4]|@_[5]|@_[9]|@_[10]|@_[12]"
LineMon.Relation.103.type = info


#
#      Relation File Monitors
#      ----------------------
#


# SELECT SgId1 FROM relationships
#   WHERE SgType1 = 'CODE_SOURCE'
#     AND (SgId1,SgQual1) NOT IN (SELECT CODE,VSAB FROM classes_atoms);
#
#   WHERE SgType1 = 'CODE_ROOT_SOURCE'
#     AND (SgId1,SgQual1) NOT IN (SELECT CODE,RSAB
#                                   FROM classes_atoms a, sources b
#                                   WHERE a.VSAB = b.VSAB);
#
#   WHERE SgType1 = 'CODE_TERMGROUP'
#     AND (SgId1,SgQual1) NOT IN (SELECT CODE,Termgroup FROM classes_atoms);
#
#   WHERE SgType1 = 'CODE_ROOT_TERMGROUP'
#     AND (SgId1,SgQual1)
#          NOT IN (SELECT CODE,RSAB || '/' SUBSTR(Termgroup,
#                                                 INSTR(Termgroup,'/')+1)
#                    FROM classes_atoms a, sources b
#                    WHERE a.VSAB = b.VSAB);
#
#   WHERE SgType1 = 'SOURCE_AUI'
#     AND (SgId1,SgQual1) NOT IN (SELECT SAUI,VSAB FROM classes_atoms);
#
#   WHERE SgType1 = 'ROOT_SOURCE_AUI'
#     AND (SgId1,SgQual1) NOT IN (SELECT SAUI,RSAB
#                                   FROM classes_atoms a, sources b
#                                   WHERE a.VSAB = b.VSAB);
#
#   WHERE SgType1 = 'SOURCE_CUI'
#     AND (SgId1,SgQual1) NOT IN (SELECT SCUI,VSAB FROM classes_atoms);
#
#   WHERE SgType1 = 'ROOT_SOURCE_CUI'
#     AND (SgId1,SgQual1) NOT IN (SELECT SCUI,RSAB
#                                   FROM classes_atoms a, sources b
#                                   WHERE a.VSAB = b.VSAB);
#
#   WHERE SgType1 = 'SOURCE_DUI'
#     AND (SgId1,SgQual1) NOT IN (SELECT SDUI,VSAB FROM classes_atoms);
#
#   WHERE SgType1 = 'ROOT_SOURCE_DUI'
#     AND (SgId1,SgQual1) NOT IN (SELECT SDUI,RSAB
#                                   FROM classes_atoms a, sources b
#                                   WHERE a.VSAB = b.VSAB);
#
#   WHERE SgType1 = 'SRC_ATOM_ID'
#     AND to_number(SgId1) NOT IN (SELECT SrcAtomId FROM classes_atoms);
#
# FileMon.Relation.1.name = SgId1 not in Classes
# FileMon.Relation.1.msg = InvSgId1
IlFileMon.Relation.1.type = error
IlFileMon.Relation.1.enable = 1


# **** Check the following for SgId2 also.
# query is sameas the above.
# FileMon.Relation.2.name = SgId2 not in Classes
# FileMon.Relation.2.msg = InvSgId2
IlFileMon.Relation.2.type = error
IlFileMon.Relation.2.enable = 1



# SELECT RELA FROM relationships
#   WHERE RELA NOT IN (SELECT VALUE FROM MRDOC
#                        WHERE DOCKEY = 'RELA'
#                          AND TYPE = 'expanded_form');
#[23]
# FileMon.Relation.3.name = RELA not in MRDOC
# FileMon.Relation.3.msg  = InvRela
IlFileMon.Relation.3.type = error
IlFileMon.Relation.3.enable = 1



# ?????????? how is it different from the one above.
# SELECT RELA FROM relationships
#   WHERE RELA NOT IN (SELECT RELA FROM valid_relas);
#
# What's different here is that there is a master file of "valid
#      RELAs" that apply across all sources.  Not only must the RELA be
#      defined in MRDOC, but it must also be in this file.  The file is
#      $INV_HOME/etc/valid_relas.  This is a check that the inverter is not
#      absentmindedly creating a new RELA that has never existed before.
#      The idea is that if this check reports a violation, the inverter has
#      to confirm that the "new" RELA value is actually correct and
#      then must add that RELA value to the $INV_HOME/etc/valid_relas file
#      and re-run the QA.
# [24]
# FileMon.Relation.4.name = Invalid RELA Value
#IlFileMon.Relation.4.type = error
IlFileMon.Relation.4.enable = 0
# not yet implemented.



# SELECT VSAB FROM relationships
#   WHERE VSAB NOT IN (SELECT VSAB FROM sources);
#
# FileMon.Relation.5.name = VSAB not in Sources
#IlFileMon.Relation.5.type = error
IlFileMon.Relation.5.enable = 0



# ???????? this is same as FieldMon.2
# SELECT * FROM relationships
#   WHERE (SgId1,SgId2,SgType1,SgType2,SgQual1,SgQual2)
#          IN (SELECT SgId2,SgId1,SgType2,SgType1,SgQual2,SgQual1
#                FROM relationships);
#
# I don't think this can be the same as a FieldMon check because it is
#      verifying that  the ID1 and ID2 are not also represented as ID2, ID1
#      in the file.  In other words, it confirms that the relationships are
#      only represented in relationships.src in ONE direction, not in BOTH
#      directions.
# [26]
# FileMon.Relation.6.name = Duplicate Relationships
#IlFileMon.Relation.6.type = error
IlFileMon.Relation.6.enable = 0
# not yet implemented.



# SELECT SrcAtomId FROM classes
#   WHERE Termgroup = 'SRC/RPT'
#     AND CODE NOT IN (SELECT SgId1 FROM relationships
#                        WHERE VSAB = 'SRC'
#                          AND RELA = 'has_translation'
#                          AND SgType1 = 'CODE_TERMGROUP'
#                          AND SgQual1 = 'SRC/RPT'
#                      UNION
#                      SELECT SgId2 FROM relationships
#                        WHERE VSAB = 'SRC'
#                          AND RELA = 'translation_of'
#                          AND SgType2 = 'CODE_TERMGROUP'
#                          AND SgQual2 = 'SRC/RPT');
#
# FileMon.Relation.7.name = Non-ENG Root SRC Atom without translation_of \
#                           Relationship
# FileMon.Relation.7.msg  = MissingTransRel
IlFileMon.Relation.7.type = error
IlFileMon.Relation.7.enable = 1



# SELECT SrcAtomId FROM classes
#   WHERE Termgroup = 'SRC/VPT'
#     AND CODE NOT IN (SELECT SgId1 FROM relationships
#                        WHERE VSAB = 'SRC'
#                          AND RELA = 'has_version'
#                          AND SgType1 = 'CODE_TERMGROUP'
#                          AND SgQual1 = 'SRC/VPT'
#                      UNION
#                      SELECT SgId2 FROM relationships
#                        WHERE VSAB = 'SRC'
#                          AND RELA = 'version_of'
#                          AND SgType2 = 'CODE_TERMGROUP'
#                          AND SgQual2 = 'SRC/VPT');
#
# FileMon.Relation.8.name = Versioned SRC Atom without version_of Relationship
# FileMon.Relation.8.msg  = MissingVersionRel
IlFileMon.Relation.8.type = error
IlFileMon.Relation.8.enable = 1

#
#
## Relation Monitors END ###################################################



## Context Monitors BEGIN #################################################
#
#      Context Field Monitors
#      ----------------------

FieldMon.Context.1.name = SrcAtomId1
FieldMon.Context.1.fieldNum = 1
FieldMon.Context.1.minLimit = 9
FieldMon.Context.1.maxLimit = 9
FieldMon.Context.1.nullable = 0
FieldMon.Context.1.unique = 0
FieldMon.Context.1.valPat = ^\\d*$
FieldMon.Context.1.invPat =
FieldMon.Context.1.charTally = 0
FieldMon.Context.1.tally = 0
FieldMon.Context.1.utf8 = 0
FieldMon.Context.1.type = error

FieldMon.Context.2.name = REL
FieldMon.Context.2.fieldNum = 2
FieldMon.Context.2.minLimit = 3
FieldMon.Context.2.maxLimit = 3
FieldMon.Context.2.nullable = 0
FieldMon.Context.2.unique = 0
FieldMon.Context.2.valPat = ^(PAR|SIB)$
FieldMon.Context.2.invPat =
FieldMon.Context.2.charTally = 0
FieldMon.Context.2.tally = 0
FieldMon.Context.2.utf8 = 0
FieldMon.Context.2.type = error

FieldMon.Context.3.name = RELA
FieldMon.Context.3.fieldNum = 3
FieldMon.Context.3.minLimit = 0
FieldMon.Context.3.maxLimit = 100
FieldMon.Context.3.nullable = 0
FieldMon.Context.3.unique = 0
FieldMon.Context.3.valPat = ^[a-z][a-z_]*[a-z]$
FieldMon.Context.3.invPat = __
FieldMon.Context.3.charTally = 0
FieldMon.Context.3.tally = 0
FieldMon.Context.3.utf8 = 0
FieldMon.Context.3.type = error

FieldMon.Context.4.name = SrcAtomId2
FieldMon.Context.4.fieldNum = 4
FieldMon.Context.4.minLimit = 9
FieldMon.Context.4.maxLimit = 9
FieldMon.Context.4.nullable = 0
FieldMon.Context.4.unique = 0
FieldMon.Context.4.valPat = ^\\d*$
FieldMon.Context.4.invPat =
FieldMon.Context.4.charTally = 0
FieldMon.Context.4.tally = 0
FieldMon.Context.4.utf8 = 0
FieldMon.Context.4.type = error

FieldMon.Context.5.name = VSAB
FieldMon.Context.5.fieldNum = 5
FieldMon.Context.5.minLimit = 3
FieldMon.Context.5.maxLimit = 40
FieldMon.Context.5.nullable = 0
FieldMon.Context.5.unique = 0
FieldMon.Context.5.valPat = ^[A-Z][A-Z0-9_\\-\\.]*$
FieldMon.Context.5.invPat =
FieldMon.Context.5.charTally = 0
FieldMon.Context.5.tally = 0
FieldMon.Context.5.utf8 = 0
FieldMon.Context.5.type = error

FieldMon.Context.6.name = SL
FieldMon.Context.6.fieldNum = 6
FieldMon.Context.6.minLimit = 3
FieldMon.Context.6.maxLimit = 20
FieldMon.Context.6.nullable = 0
FieldMon.Context.6.unique = 0
FieldMon.Context.6.valPat = ^[A-Z][A-Z0-9_\\-\\.]*$
FieldMon.Context.6.invPat =
FieldMon.Context.6.charTally = 0
FieldMon.Context.6.tally = 0
FieldMon.Context.6.utf8 = 0
FieldMon.Context.6.type = error

FieldMon.Context.7.name = HCD
FieldMon.Context.7.fieldNum = 7
FieldMon.Context.7.minLimit = 0
FieldMon.Context.7.maxLimit = 1000
FieldMon.Context.7.nullable = 1
FieldMon.Context.7.unique = 0
FieldMon.Context.7.valPat = 
FieldMon.Context.7.invPat = \\s
FieldMon.Context.7.charTally = 0
FieldMon.Context.7.tally = 0
FieldMon.Context.7.utf8 = 0
FieldMon.Context.7.type = error

FieldMon.Context.8.name = PTR
FieldMon.Context.8.fieldNum = 8
FieldMon.Context.8.minLimit = 0
FieldMon.Context.8.maxLimit = 1000
FieldMon.Context.8.nullable = 1
FieldMon.Context.8.unique = 0
#FieldMon.Context.8.valPat = ^(\\d+\\.)+\\d+$
FieldMon.Context.8.valPat = ^(\\d+)(\\.\\d+)*$
FieldMon.Context.8.invPat =
FieldMon.Context.8.charTally = 0
FieldMon.Context.8.tally = 0
FieldMon.Context.8.utf8 = 0
FieldMon.Context.8.type = error

FieldMon.Context.9.name = ReleaseMode
FieldMon.Context.9.fieldNum = 9
FieldMon.Context.9.minLimit = 2
FieldMon.Context.9.maxLimit = 2
FieldMon.Context.9.nullable = 0
FieldMon.Context.9.unique = 0
FieldMon.Context.9.valPat = ^(00|11)$
FieldMon.Context.9.invPat =
FieldMon.Context.9.charTally = 0
FieldMon.Context.9.tally = 0
FieldMon.Context.9.utf8 = 0
FieldMon.Context.9.type = error

FieldMon.Context.10.name = SRUI
FieldMon.Context.10.fieldNum = 10
FieldMon.Context.10.minLimit = 0
FieldMon.Context.10.maxLimit = 50
FieldMon.Context.10.nullable = 1
FieldMon.Context.10.unique = 0
FieldMon.Context.10.valPat = 
FieldMon.Context.10.invPat = ^\\s|\\s\\s|\\s$
FieldMon.Context.10.charTally = 0
FieldMon.Context.10.tally = 0
FieldMon.Context.10.utf8 = 0
FieldMon.Context.10.type = error

FieldMon.Context.11.name = RG
FieldMon.Context.11.fieldNum = 11
FieldMon.Context.11.minLimit = 0
FieldMon.Context.11.maxLimit = 10
FieldMon.Context.11.nullable = 1
FieldMon.Context.11.unique = 0
FieldMon.Context.11.valPat =
FieldMon.Context.11.invPat = ^\\s|\\s\\s|\\s$
FieldMon.Context.11.charTally = 0
FieldMon.Context.11.tally = 0
FieldMon.Context.11.utf8 = 0
FieldMon.Context.11.type = error

FieldMon.Context.12.name = SgId1
FieldMon.Context.12.fieldNum = 12
FieldMon.Context.12.minLimit = 1
FieldMon.Context.12.maxLimit = 50
FieldMon.Context.12.nullable = 0
FieldMon.Context.12.unique = 0
FieldMon.Context.12.valPat =
FieldMon.Context.12.invPat = ^\\s|\\s\\s|\\s$
FieldMon.Context.12.charTally = 0
FieldMon.Context.12.tally = 0
FieldMon.Context.12.utf8 = 0
FieldMon.Context.12.type = error

FieldMon.Context.13.name = SgType1
FieldMon.Context.13.fieldNum = 13
FieldMon.Context.13.minLimit = 3
FieldMon.Context.13.maxLimit = 50
FieldMon.Context.13.nullable = 0
FieldMon.Context.13.unique = 0
FieldMon.Context.13.valPat = ^(SRC_ATOM_ID|CODE_SOURCE|CODE_TERMGROUP|CODE_ROOT_TERMGROUP|AUI|ATOM_ID|SOURCE_AUI|ROOT_SOURCE_AUI|CUI|CUI_SOURCE|CUI_ROOT_SOURCE|CONCEPT_ID|SOURCE_CUI|ROOT_SOURCE_CUI|SOURCE_DUI|ROOT_SOURCE_DUI|SOURCE_RUI|ROOT_SOURCE_RUI)$
FieldMon.Context.13.invPat =
FieldMon.Context.13.charTally = 0
FieldMon.Context.13.tally = 0
FieldMon.Context.13.utf8 = 0
FieldMon.Context.13.type = error

FieldMon.Context.14.name = SgQual1
FieldMon.Context.14.fieldNum = 14
FieldMon.Context.14.minLimit = 0
FieldMon.Context.14.maxLimit = 50
FieldMon.Context.14.nullable = 1
FieldMon.Context.14.unique = 0
FieldMon.Context.14.valPat =
FieldMon.Context.14.invPat = ^\\s|\\s\\s|\\s$
FieldMon.Context.14.charTally = 0
FieldMon.Context.14.tally = 0
FieldMon.Context.14.utf8 = 0
FieldMon.Context.14.type = error

FieldMon.Context.15.name = SgId2
FieldMon.Context.15.fieldNum = 15
FieldMon.Context.15.minLimit = 1
FieldMon.Context.15.maxLimit = 50
FieldMon.Context.15.nullable = 0
FieldMon.Context.15.unique = 0
FieldMon.Context.15.valPat =
FieldMon.Context.15.invPat = ^\\s|\\s\\s|\\s$
FieldMon.Context.15.charTally = 0
FieldMon.Context.15.tally = 0
FieldMon.Context.15.utf8 = 0
FieldMon.Context.15.type = error

FieldMon.Context.16.name = SgType2
FieldMon.Context.16.fieldNum = 16
FieldMon.Context.16.minLimit = 3
FieldMon.Context.16.maxLimit = 50
FieldMon.Context.16.nullable = 0
FieldMon.Context.16.unique = 0
FieldMon.Context.16.valPat = ^(SRC_ATOM_ID|CODE_SOURCE|CODE_TERMGROUP|CODE_ROOT_TERMGROUP|AUI|ATOM_ID|SOURCE_AUI|ROOT_SOURCE_AUI|CUI|CUI_SOURCE|CUI_ROOT_SOURCE|CONCEPT_ID|SOURCE_CUI|ROOT_SOURCE_CUI|SOURCE_DUI|ROOT_SOURCE_DUI|SOURCE_RUI|ROOT_SOURCE_RUI)$
FieldMon.Context.16.invPat =
FieldMon.Context.16.charTally = 0
FieldMon.Context.16.tally = 0
FieldMon.Context.16.utf8 = 0
FieldMon.Context.16.type = error

FieldMon.Context.17.name = SgQual2
FieldMon.Context.17.fieldNum = 17
FieldMon.Context.17.minLimit = 0
FieldMon.Context.17.maxLimit = 50
FieldMon.Context.17.nullable = 1
FieldMon.Context.17.unique = 0
FieldMon.Context.17.valPat =
FieldMon.Context.17.invPat = ^\\s|\\s\\s|\\s$
FieldMon.Context.17.charTally = 0
FieldMon.Context.17.tally = 0
FieldMon.Context.17.utf8 = 0
FieldMon.Context.17.type = error


#
#      Context Inline Line Monitors
#      ----------------------------
#

IlLineMon.Context.0.fieldCt = 17
IlLineMon.Context.0.type = error
IlLineMon.Context.0.enable = 1


# SELECT * FROM contexts
#   WHERE REL='PAR'
#     AND PTR IS NULL;
#
#LineMon.Context.1.name = PAR with null PTR
#LineMon.Context.1.msg  = ParWNullPtr
#LineMon.Context.1.query = @_[2] eq 'PAR' && @_[8] eq ''
IlLineMon.Context.1.type = error
IlLineMon.Context.1.enable = 1



# SELECT count(*),VSAB,REL,RELA,SgId1,SgType1,SgQual1,SgId2,SgType2,SgQual2
#   FROM contexts
#   GROUP BY VSAB,REL,RELA,SgId1,SgType1,SgQual1,SgId2,SgType2,SgQual2
#   HAVING count(*)>1;
#
#LineMon.Context.2.name = Non-unique RUI Fields
#LineMon.Context.2.msg  = NonUniqueRui
#LineMon.Context.2.tally = "@_[5]|@_[2]|@_[3]|@_[12]|@_[13]|@_[14]|\
#				@_[15]|@_[16]|@_[17]"
#LineMon.Context.2.unique = 1
IlLineMon.Context.2.type = error
IlLineMon.Context.2.enable = 1


# SELECT SrcRelId, RELA FROM contexts
#   WHERE REL = 'SIB'
#     AND RELA IS NOT NULL
#     AND VSAB != 'UWDA';
#[5]
#LineMon.Context.3.name = SIB Relationship with non-null RELA
#LineMon.Context.3.msg  = SibWRela
#LineMon.Context.3.tally = "@_[1]|@_[4]|@_[3]"
#LineMon.Context.3.query = @_[2] eq 'SIB' && @_[5] ne 'UWDA' && @_[3] nq ''
IlLineMon.Context.3.type = error
IlLineMon.Context.3.enable = 1



# SELECT SrcRelId, VSAB, SL FROM contexts
#   WHERE VSAB != SL; 
#[6]
#LineMon.Context.4.name = VSAB not equal to SL
#LineMon.Context.4.msg  = VsabNeSL
#LineMon.Context.4.tally = "@_[1]|@_[4]|@_[5]|@_[6]"
#LineMon.Context.4.query = @_[5] ne @_[6]
IlLineMon.Context.4.type = error
IlLineMon.Context.4.enable = 1



# SELECT * FROM contexts
#   WHERE SrcAtomId2 != SUBSTR(PTR,INSTR(PTR,'.',-1)+1)
#     AND PTR like '%.%' AND REL = 'PAR' ;
#[7]
#LineMon.Context.5.name = Non-unique RUI Fields
#LineMon.Context.5.msg  = InvTreePosInPtr
#LineMon.Context.5a.name = ParentMismatch
#LineMon.Context.5a.msg  = CyclesInptr
#LineMon.Context.5.query = @_[2] eq 'PAR' && @_[8] =~ /@_[4]$/
IlLineMon.Context.5.type = error
IlLineMon.Context.5.enable = 1

# SELECT * FROM contexts
#   WHERE Sgtype1 = 'SRC_ATOM_ID' 
#    and SrcAtomId1 != SgId1;
#LineMon.Context.6.name = SAID1 not equal to SgID1
#LineMon.Context.6.msg  = Said1neSgid1
#LineMon.Context.6.name = checkSaid1toSgid1
#LineMon.Context.6.msg  = ESaid1neSgid1
#LineMon.Context.6.query = $IL[13] eq 'SRC_ATOM_ID' && $IL[1] ne $IL[12]
IlLineMon.Context.6.type = error
IlLineMon.Context.6.enable = 1

# SELECT * FROM contexts
#   WHERE Sgtype2 = 'SRC_ATOM_ID' 
#    and SrcAtomId2 != SgId2;
#LineMon.Context.7.name = SAID2 not equal to SgID2
#LineMon.Context.7.msg  = Said2neSgid2
#LineMon.Context.7.name = checkSaid2toSgid2
#LineMon.Context.7.msg  = ESaid1neSgid1
#LineMon.Context.7.query = $IL[16] eq 'SRC_ATOM_ID' && $IL[3] ne $IL[15]
IlLineMon.Context.7.type = error
IlLineMon.Context.7.enable = 1

# SELECT a.sgid1, a.sgid2, b.sgid1, b.sgid2 FROM contexts a, contexts b
#   WHERE a.rel = 'PAR'and b.rel = 'SIB'and a.sgid1 = b.sgid1 and a.sgid2 = b.sgid2 ;
# 
#LineMon.Context.8.name = Sgid's have both PAR and SIB relations
#LineMon.Context.8.msg  = duplicateParSib
#LineMon.Context.8.name = checkdupliatePARSIB
#LineMon.Context.8.msg  = EduplicateParSib
#LineMon.Context.8.query = if (defined($parsgids1{"$IL[12]|$IL[15]"})) || (defined($parsgids2{"$IL[15]|$IL[12]"}))
IlLineMon.Context.8.type = error
IlLineMon.Context.8.enable = 1

#
#      Context Custom Line Monitors
#      ----------------------------
#


LineMon.Context.101.name = REL,RELA Tally
LineMon.Context.101.tally = "@_[2]|@_[3]"
LineMon.Context.101.type = info


LineMon.Context.102.name = VSAB,SL,REL,RELA,SgType1,SgQual1,SgType2,\
			SgQual2 Tally
LineMon.Context.102.tally = "@_[5]|@_[6]|@_[2]|@_[3]|@_[13]|@_[14]|\
		@_[16]|@_[17]"
LineMon.Context.102.type = info



#
#      Context File Monitors
#      ---------------------
#


# SELECT SgId1 FROM contexts
#
#   WHERE SgType1 = 'CODE_SOURCE'
#     AND (SrcAtomId1,SgId1,SgQual1) 
#          NOT IN (SELECT SrcAtomId,CODE,VSAB FROM classes_atoms
#                    WHERE Tbr in ('Y','y'));
#
#   WHERE SgType1 = 'CODE_ROOT_SOURCE'
#     AND (SrcAtomId1,SgId1,SgQual1)
#          NOT IN (SELECT SrcAtomId,CODE,RSAB
#                    FROM classes_atoms a, sources b
#                    WHERE a.VSAB = b.VSAB
#                    AND Tbr in ('Y','y'));
#
#   WHERE SgType1 = 'CODE_TERMGROUP'
#     AND (SrcAtomId1,SgId1,SgQual1)
#          NOT IN (SELECT SrcAtomId,CODE,Termgroup
#                    FROM classes_atoms
#                    WHERE Tbr in ('Y','y'));
#
#   WHERE SgType1 = 'CODE_ROOT_TERMGROUP'
#     AND (SrcAtomId1,SgId1,SgQual1)
#          NOT IN (SELECT SrcAtomId,CODE,
#                         RSAB || '/' SUBSTR(Termgroup,
#                                            INSTR(Termgroup,'/')+1)
#                    FROM classes_atoms a, sources b
#                    WHERE a.VSAB = b.VSAB
#                      AND Tbr in ('Y','y'));
#
#   WHERE SgType1 = 'SOURCE_AUI'
#     AND (SrcAtomId1,SgId1,SgQual1)
#          NOT IN (SELECT SrcAtomId,SAUI,VSAB
#                    FROM classes_atoms
#                    WHERE Tbr in ('Y','y'));
#
#   WHERE SgType1 = 'ROOT_SOURCE_AUI'
#     AND (SrcAtomId1,SgId1,SgQual1)
#          NOT IN (SELECT SrcAtomId,SAUI,RSAB
#                    FROM classes_atoms a, sources b
#                    WHERE a.VSAB = b.VSAB
#                      AND Tbr in ('Y','y'));
#
# SELECT SgId1 FROM contexts
#   WHERE SgType1 = 'SOURCE_CUI'
#     AND (SrcAtomId1,SgId1,SgQual1)
#          NOT IN (SELECT SrcAtomId,SCUI,VSAB
#                    FROM classes_atoms
#                    WHERE Tbr in ('Y','y'));
#
#   WHERE SgType1 = 'ROOT_SOURCE_CUI'
#     AND (SrcAtomId1,SgId1,SgQual1)
#          NOT IN (SELECT SrcAtomId,SCUI,RSAB
#                    FROM classes_atoms a, sources b
#                    WHERE a.VSAB = b.VSAB
#                    AND Tbr in ('Y','y'));
#
#   WHERE SgType1 = 'SOURCE_DUI'
#     AND (SrcAtomId1,SgId1,SgQual1)
#          NOT IN (SELECT SrcAtomId,SDUI,VSAB
#                    FROM classes_atoms
#                    WHERE Tbr in ('Y','y'));
#
#   WHERE SgType1 = 'ROOT_SOURCE_DUI'
#     AND (SrcAtomId1,SgId1,SgQual1)
#          NOT IN (SELECT SrcAtomId,SDUI,RSAB
#                    FROM classes_atoms a, sources b
#                    WHERE a.VSAB = b.VSAB
#                      AND Tbr in ('Y','y'));
#
#   WHERE SgType1 = 'SRC_ATOM_ID'
#     AND (SrcAtomId1,to_number(SgId1))
#          NOT IN (SELECT SrcAtomId,SrcAtomId
#                    FROM classes_atoms
#                    WHERE Tbr in ('Y','y'));
#
# FileMon.Context.1.name = SgId1 not in Classes
# FileMon.Context.1.msg  = invSgId1
IlFileMon.Context.1.type = error
IlFileMon.Context.1.enable = 1


# check sgId2 - query is same as above.
# FileMon.Context.2.name = SgId2 not in Classes
# FileMon.Context.2.msg  = invSgId2
IlFileMon.Context.2.type = error
IlFileMon.Context.2.enable = 1



# SELECT RELA FROM contexts
#   WHERE RELA NOT IN (SELECT VALUE FROM MRDOC
#                        WHERE DOCKEY = 'RELA'
#                          AND TYPE = 'expanded_form');
#[23]
# FileMon.Context.3.name = RELA not in MRDOC
# FileMon.Context.3.msg  = InvRela
IlFileMon.Context.3.type = error
IlFileMon.Context.3.enable = 1



# ???? how is different from the above one??
# This is just like FileMon.Relations.24, you must check against the
#       $INV_HOME/etc/valid_relas file.
# SELECT RELA FROM contexts
#   WHERE RELA NOT IN (SELECT RELA FROM valid_relas);
#
# FileMon.Context.4.name = Invalid RELA Value
# FileMon.Context.4.msg  = not implemented
IlFileMon.Context.4.type = error
IlFileMon.Context.4.enable = 0



# SELECT VSAB FROM contexts
#   WHERE VSAB NOT IN (SELECT VSAB FROM sources);
#
# FileMon.Context.5.name = VSAB not in Sources
# FileMon.Context.5.msg  = InvVsab
IlFileMon.Context.5.type = error
IlFileMon.Context.5.enable = 1



# NOT DONE ????? Isn't this a rel check???
# How is it different from LineMon.Context.2. This is a more specfic check
# than LineMon.Context.2 check. We should replace that with this.
# Just like the Relations one described above.  We are confirming that the
#      relationships are represented only in one direction in the file.
#      However, here, the table/file should be contexts.src not
#      relationships.src.
# SELECT * FROM relationships
#   WHERE (SgId1,SgId2,SgType1,SgType2,SgQual1,SgQual2)
#          IN (SELECT SgId2,SgId1,SgType2,SgType1,SgQual2,SgQual1
#                FROM relationships);
#
# FileMon.Context.6.name = Dupicate Relationships
# FileMon.Context.6.msg  = not implemented
IlFileMon.Context.6.type = error
IlFileMon.Context.6.enable = 0


# This is same as LineMon.Context.7
# Here, this is the wrong query.  This check should verify that the last
#      SrcAtomId of the PTR field matches the SrcAtomId2 field of the
#      contexts.src file.  Remember PTR is a series of SrcAtomId values
#      separated by dots (.).  Split that field on '.' And take the
#      last member of the array and compare it to the SrcAtomId2 field.
#      They should be identical.  This could be done as a linemon check.
# SELECT * FROM relationships
#   WHERE (SgId1,SgId2,SgType1,SgType2,SgQual1,SgQual2)
#          IN (SELECT SgId2,SgId1,SgType2,SgType1,SgQual2,SgQual1
#                FROM relationships);
#
# FileMon.Context.7.name = Verify Parent Matches SrcAtomId2
# FileMon.Context.7.msg  = not implemented
IlFileMon.Context.7.type = error
IlFileMon.Context.7.enable = 0



# ???? NOT DONE
# If the HCD is set, it should NEVER match the code in classes (where the
#      SrcAtomId1 of contexts.src matches the SrcAtomId of classes_atoms.src).
# SELECT a.HCD, b.CODE, b.VSAB, b.SrcAtomId
#   FROM contexts a, classes_atoms b
#   WHERE a.SrcAtomId1 = b.SrcAtomId
#     AND CODE = HCD;
#
# FileMon.Context.8.name = HCD Matches Atom CODE
# FileMon.Context.8.msg  = not implemented
IlFileMon.Context.8.type = warning
IlFileMon.Context.8.enable = 0


# ???? NOT DONE
# Either HCD should always be set, or it should never be set.  MSH is one
#     known exception because it doesn't always use HCD consistently.
# SELECT DISTINCT a.VSAB
#   FROM contexts a, contexts b
#   WHERE a.VSAB = b.VSAB
#     AND a.HCD IS NULL
#     AND b.HCD IS NOT NULL
#     AND a.VSAB not like 'MSH%';
#
# FileMon.Context.9.name = Mixed Null and non-NULL HCD
# FileMon.Context.9.msg  = not implemented
IlFileMon.Context.9.type = warning
IlFileMon.Context.9.enable = 0

#
#
## Context Monitors END #####################################################



## Mergefact Monitors BEGIN ################################################
#
#      Mergefact Field Monitors
#      ------------------------
#

FieldMon.Merge.1.name = SgId1
FieldMon.Merge.1.fieldNum = 1
FieldMon.Merge.1.minLimit = 2
FieldMon.Merge.1.maxLimit = 50
FieldMon.Merge.1.nullable = 0
FieldMon.Merge.1.unique = 0
FieldMon.Merge.1.valPat =
FieldMon.Merge.1.invPat = ^\\s|\\s\\s|\\s$
FieldMon.Merge.1.charTally = 0
FieldMon.Merge.1.tally = 0
FieldMon.Merge.1.utf8 = 0
FieldMon.Merge.1.type = error

FieldMon.Merge.2.name = Lvl
FieldMon.Merge.2.fieldNum = 2
FieldMon.Merge.2.minLimit = 2
FieldMon.Merge.2.maxLimit = 2
FieldMon.Merge.2.nullable = 0
FieldMon.Merge.2.unique = 0
FieldMon.Merge.2.valPat = ^SY$
FieldMon.Merge.2.invPat =
FieldMon.Merge.2.charTally = 0
FieldMon.Merge.2.tally = 0
FieldMon.Merge.2.utf8 = 0
FieldMon.Merge.2.type = error

FieldMon.Merge.3.name = SgId2
FieldMon.Merge.3.fieldNum = 3
FieldMon.Merge.3.minLimit = 2
FieldMon.Merge.3.maxLimit = 50
FieldMon.Merge.3.nullable = 0
FieldMon.Merge.3.unique = 0
FieldMon.Merge.3.valPat =
FieldMon.Merge.3.invPat = ^\\s|\\s\\s|\\s$
FieldMon.Merge.3.charTally = 0
FieldMon.Merge.3.tally = 0
FieldMon.Merge.3.utf8 = 0
FieldMon.Merge.3.type = error

#
# Here, VSAB is restricted to SRC or inversion VSAB (unlike in 
#    attributes/relationships)
#
FieldMon.Merge.4.name = VSAB
FieldMon.Merge.4.fieldNum = 4
FieldMon.Merge.4.minLimit = 3
FieldMon.Merge.4.maxLimit = 40
FieldMon.Merge.4.nullable = 0
FieldMon.Merge.4.unique = 0
FieldMon.Merge.4.valPat = ^(SRC|<VSAB>)*$
FieldMon.Merge.4.invPat =
FieldMon.Merge.4.charTally = 0
FieldMon.Merge.4.tally = 0
FieldMon.Merge.4.utf8 = 0
FieldMon.Merge.4.type = error

FieldMon.Merge.5.name = IV
FieldMon.Merge.5.fieldNum = 5
FieldMon.Merge.5.minLimit = 0
FieldMon.Merge.5.maxLimit = 0
FieldMon.Merge.5.nullable = 1
FieldMon.Merge.5.unique = 0
FieldMon.Merge.5.valPat =
FieldMon.Merge.5.invPat = .
FieldMon.Merge.5.charTally = 0
FieldMon.Merge.5.tally = 0
FieldMon.Merge.5.utf8 = 0
FieldMon.Merge.5.type = error

FieldMon.Merge.6.name = Demote
FieldMon.Merge.6.fieldNum = 6
FieldMon.Merge.6.minLimit = 1
FieldMon.Merge.6.maxLimit = 1
FieldMon.Merge.6.nullable = 0
FieldMon.Merge.6.unique = 0
FieldMon.Merge.6.valPat = ^[YN]$
FieldMon.Merge.6.invPat =
FieldMon.Merge.6.charTally = 0
FieldMon.Merge.6.tally = 0
FieldMon.Merge.6.utf8 = 0
FieldMon.Merge.6.type = error

FieldMon.Merge.7.name = ChangeStatus
FieldMon.Merge.7.fieldNum = 7
FieldMon.Merge.7.minLimit = 1
FieldMon.Merge.7.maxLimit = 1
FieldMon.Merge.7.nullable = 0
FieldMon.Merge.7.unique = 0
FieldMon.Merge.7.valPat = ^[YN]$
FieldMon.Merge.7.invPat =
FieldMon.Merge.7.charTally = 0
FieldMon.Merge.7.tally = 0
FieldMon.Merge.7.utf8 = 0
FieldMon.Merge.7.type = error

FieldMon.Merge.8.name = MergeSet
FieldMon.Merge.8.fieldNum = 8
FieldMon.Merge.8.minLimit = 5
FieldMon.Merge.8.maxLimit = 30
FieldMon.Merge.8.nullable = 0
FieldMon.Merge.8.unique = 0
FieldMon.Merge.8.valPat = ^<RSAB>\\-(SRC|SY|SYR|SCUI|AB|AE|EX|LAT|CODE|CUI|CID|SAMEAS|SRCRPT|SRCVPT|SB|OLDSRC)$
FieldMon.Merge.8.invPat =
FieldMon.Merge.8.charTally = 0
FieldMon.Merge.8.tally = 0
FieldMon.Merge.8.utf8 = 0
FieldMon.Merge.8.type = error

FieldMon.Merge.9.name = SgType1
FieldMon.Merge.9.fieldNum = 9
FieldMon.Merge.9.minLimit = 3
FieldMon.Merge.9.maxLimit = 50
FieldMon.Merge.9.nullable = 0
FieldMon.Merge.9.unique = 0
FieldMon.Merge.9.valPat = ^(SRC_ATOM_ID|CODE_SOURCE|CODE_TERMGROUP|CODE_ROOT_TERMGROUP|AUI|ATOM_ID|SOURCE_AUI|ROOT_SOURCE_AUI|CUI|CUI_SOURCE|CUI_ROOT_SOURCE|CONCEPT_ID|SOURCE_CUI|ROOT_SOURCE_CUI|SOURCE_DUI|ROOT_SOURCE_DUI|SOURCE_RUI|ROOT_SOURCE_RUI)$
FieldMon.Merge.9.invPat =
FieldMon.Merge.9.charTally = 0
FieldMon.Merge.9.tally = 0
FieldMon.Merge.9.utf8 = 0
FieldMon.Merge.9.type = error

FieldMon.Merge.10.name = SgQual1
FieldMon.Merge.10.fieldNum = 10
FieldMon.Merge.10.minLimit = 0
FieldMon.Merge.10.maxLimit = 50
FieldMon.Merge.10.nullable = 1
FieldMon.Merge.10.unique = 0
FieldMon.Merge.10.valPat = 
FieldMon.Merge.10.invPat = ^\\s|\\s\\s|\\s$
FieldMon.Merge.10.charTally = 0
FieldMon.Merge.10.tally = 0
FieldMon.Merge.10.utf8 = 0
FieldMon.Merge.10.type = error

FieldMon.Merge.11.name = SgType2
FieldMon.Merge.11.fieldNum = 11
FieldMon.Merge.11.minLimit = 3
FieldMon.Merge.11.maxLimit = 50
FieldMon.Merge.11.nullable = 0
FieldMon.Merge.11.unique = 0
FieldMon.Merge.11.valPat = ^(SRC_ATOM_ID|CODE_SOURCE|CODE_TERMGROUP|CODE_ROOT_TERMGROUP|AUI|ATOM_ID|SOURCE_AUI|ROOT_SOURCE_AUI|CUI|CUI_SOURCE|CUI_ROOT_SOURCE|CONCEPT_ID|SOURCE_CUI|ROOT_SOURCE_CUI|SOURCE_DUI|ROOT_SOURCE_DUI|SOURCE_RUI|ROOT_SOURCE_RUI)$
FieldMon.Merge.11.invPat =
FieldMon.Merge.11.charTally = 0
FieldMon.Merge.11.tally = 0
FieldMon.Merge.11.utf8 = 0
FieldMon.Merge.11.type = error

FieldMon.Merge.12.name = SgQual2
FieldMon.Merge.12.fieldNum = 12
FieldMon.Merge.12.minLimit = 0
FieldMon.Merge.12.maxLimit = 50
FieldMon.Merge.12.nullable = 1
FieldMon.Merge.12.unique = 0
FieldMon.Merge.12.valPat = 
FieldMon.Merge.12.invPat = ^\\s|\\s\\s|\\s$
FieldMon.Merge.12.charTally = 0
FieldMon.Merge.12.tally = 0
FieldMon.Merge.12.utf8 = 0
FieldMon.Merge.12.type = error



#
#      Mergefact Inline Line Monitors
#      ------------------------------
#

IlLineMon.Merge.0.fieldCt = 12
IlLineMon.Merge.0.type = error
IlLineMon.Merge.0.enable = 1


# SELECT * FROM mergefacts
#   WHERE SgId1 = SgId2
#     AND SgType1 = SgType2
#     AND NVL(SgQual1,'null') = NVL(SgQual2,'null'); 
#
#LineMon.Merge.1.name = Self-referential Mergefacts
#LineMon.Merge.1.msg  = SelfRefRels
#LineMon.Merge.1.query = @_[1] eq @_[3] @_[9] eq @_[11] @_[10] eq @_[12]
IlLineMon.Merge.1.type = error
IlLineMon.Merge.1.enable = 1



#
#      Mergefact Custom Line Monitors
#      ------------------------------
#

LineMon.Merge.101.name = VSAB,MergeSet,SgType1,SgType2 Tally
LineMon.Merge.101.tally = "@_[4]|@_[8]|@_[9]|@_[11]"
LineMon.Merge.101.type = info



#
#      Mergefact File Monitors
#      -----------------------
#

# SELECT SgId1 FROM mergefacts
#   WHERE SgType1 = 'CODE_SOURCE'
#     AND (SgId1,SgQual1) NOT IN (SELECT CODE,VSAB FROM classes_atoms);
#
#   WHERE SgType1 = 'CODE_ROOT_SOURCE'
#     AND (SgId1,SgQual1)
#          NOT IN (SELECT CODE,RSAB
#                    FROM classes_atoms a, sources b
#                    WHERE a.VSAB = b.VSAB);
#
#   WHERE SgType1 = 'CODE_TERMGROUP'
#     AND (SgId1,SgQual1) NOT IN (SELECT CODE,Termgroup FROM classes_atoms);
#
#   WHERE SgType1 = 'CODE_ROOT_TERMGROUP'
#     AND (SgId1,SgQual1)
#          NOT IN (SELECT CODE,
#                         RSAB || '/' SUBSTR(Termgroup,INSTR(Termgroup,'/')+1)
#                    FROM classes_atoms a, sources b
#                    WHERE a.VSAB = b.VSAB);
#
#   WHERE SgType1 = 'SOURCE_AUI'
#     AND (SgId1,SgQual1) NOT IN (SELECT SAUI,VSAB FROM classes_atoms);
#
#   WHERE SgType1 = 'ROOT_SOURCE_AUI'
#     AND (SgId1,SgQual1)
#          NOT IN (SELECT SAUI,RSAB
#                    FROM classes_atoms a, sources b
#                    WHERE a.VSAB = b.VSAB);
#
#   WHERE SgType1 = 'SOURCE_CUI'
#     AND (SgId1,SgQual1) NOT IN (SELECT SCUI,VSAB FROM classes_atoms);
#
#   WHERE SgType1 = 'ROOT_SOURCE_CUI'
#     AND (SgId1,SgQual1)
#          NOT IN (SELECT SCUI,RSAB
#                    FROM classes_atoms a, sources b
#                    WHERE a.VSAB = b.VSAB);
#
#   WHERE SgType1 = 'SOURCE_DUI'
#     AND (SgId1,SgQual1) NOT IN (SELECT SDUI,VSAB FROM classes_atoms);
#
#   WHERE SgType1 = 'ROOT_SOURCE_DUI'
#     AND (SgId1,SgQual1)
#          NOT IN (SELECT SDUI,RSAB
#                    FROM classes_atoms a, sources b
#                    WHERE a.VSAB = b.VSAB);
#
#   WHERE SgType1 = 'SRC_ATOM_ID'
#     AND to_number(SgId1) NOT IN (SELECT SrcAtomId FROM classes_atoms);
#
# FileMon.Merge.1.name = SgId1 not in Classes
# FileMon.Merge.1.msg  = InvSgId1
IlFileMon.Merge.1.type = error
IlFileMon.Merge.1.enable = 1


# query is same as above.
# FileMon.Merge.2.name = SgId2 not in Classes
# FileMon.Merge.2.msg  = InvSgId2
IlFileMon.Merge.2.type = error
IlFileMon.Merge.2.enable = 1

#
## Mergefact Monitors END ##################################################

